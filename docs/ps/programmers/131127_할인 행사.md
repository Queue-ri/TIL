---
title: '131127 - í• ì¸ í–‰ì‚¬'
eng_title: '131127 - í• ì¸ í–‰ì‚¬'
slug: '/ps/programmers/131127_í• ì¸ í–‰ì‚¬'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '131127 - í• ì¸ í–‰ì‚¬'
sidebar_position: 131127
created_date: 2025-04-21
updated_date: 2025-08-13
---

# 131127 - í• ì¸ í–‰ì‚¬

:::info

- **ë¬¸ì œ ë³´ê¸°**: [131127 - í• ì¸ í–‰ì‚¬](https://school.programmers.co.kr/learn/courses/30/lessons/131127)
- **ì†Œìš” ì‹œê°„**: 35ë¶„ 15ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 2ï¸âƒ£ (2.2)
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ì™„ì „íƒìƒ‰` `í•´ì‹œ` `ìŠ¬ë¼ì´ë”© ìœˆë„ìš°`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 120000 KB
- **ì‹œê°„**: 47 ms

:::

```java
import java.util.*;

class Solution {  
    public int solution(String[] want, int[] number, String[] discount) {
        Map<String, Integer> wantMap = new HashMap<>();
        Map<String, Integer> availMap = new HashMap<>();
        int satisfied = 0; // if satisfied == want.length then ans+=1
        int ldx = 0;
        int rdx = 9; // sum(number) is 10
        int ans = 0;
        
        // init wantMap
        for (int i = 0; i < want.length; ++i) {
            String item = want[i];
            int val = number[i];
            wantMap.put(item, val);
        }
        
        // init availMap
        for (int i = ldx; i < rdx+1; ++i) {
            String dItem = discount[i];
            availMap.merge(dItem, 1, Integer::sum);
            if (availMap.get(dItem) == wantMap.get(dItem)) {
                satisfied += 1;
            }
        }
        if (satisfied == want.length)
            ans += 1;
        
        // slide: window size = 10
        while (rdx < discount.length-1) {
            String lItem = discount[ldx];
            String rItem = discount[rdx+1];
                
            // calculate map & counter
            availMap.merge(lItem, -1, Integer::sum);
            if (availMap.get(lItem) == wantMap.getOrDefault(lItem, 0) - 1)
                satisfied -= 1;
            ++ldx;
            availMap.merge(rItem, 1, Integer::sum);
            if (availMap.get(rItem) == wantMap.getOrDefault(rItem, 0))
                satisfied += 1;
            ++rdx;
            
            if (satisfied == want.length)
                ans += 1;
        }
        
        return ans;
    }
}
```

<br />

### í’€ì´ í•´ì„¤

ë¬¸ì œ ì¡°ê±´ì—ì„œ number ì›ì†Œì˜ í•©ì´ í•­ìƒ 10ì´ë˜ì„œ **ê³ ì • í¬ê¸°** ë²”ìœ„ë¡œ ìŠ¤ìº”í•˜ëŠ” ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ê°€ ë– ì˜¬ëë‹¤.

`wantMap`ì€ ê·¸ëƒ¥ `want`ì™€ `number`ë¥¼ í•´ì‹±í•œ ê²ƒì´ê³ 

`availMap`ì€ $[ldx, rdx]$ êµ¬ê°„ì˜ í• ì¸ í’ˆëª©ê³¼ ê·¸ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

<br />

#### ğŸ“Œ Preprocess

```java
// init availMap
for (int i = ldx; i < rdx+1; ++i) {
    String dItem = discount[i];
    availMap.merge(dItem, 1, Integer::sum);
    if (availMap.get(dItem) == wantMap.get(dItem)) {
        satisfied += 1;
    }
}
if (satisfied == want.length)
    ans += 1;
```

ì¼ë‹¨ ldx, rdxê°€ ì‹œì‘ë¶€í„° 0, 9ë¡œ ì„¸íŒ…ë˜ì–´ìˆìœ¼ë¯€ë¡œ `availMap`ë„ ì´ ì„¸íŒ…ì— ë§ì¶”ì–´ ì‚¬ì „ì— í•œë²ˆ ê³„ì‚°í•´ì¤€ë‹¤.

ì—¬ê¸°ì„œ ì‘ì€ ìµœì í™”ë¥¼ í•˜ë‚˜ í–ˆëŠ”ë°, ì •ë‹µì¼ë¡œ ì¹´ìš´íŒ…í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ `wantMap`ê³¼ `availMap`ì´ ì„œë¡œ ê°™ì€ì§€ í™•ì¸í•˜ëŠ” ëŒ€ì‹ 

`satisfied`ë¼ëŠ” ì¹´ìš´í„° ë³€ìˆ˜ë¥¼ ë”°ë¡œ ë‘ê³  ì´ê²Œ ì›í•˜ëŠ” í’ˆëª©ì˜ ì¢…ë¥˜ ê°œìˆ˜ì™€ ê°™ì€ì§€ë¥¼ ë¹„êµí–ˆë‹¤.

<br />

:::info

### `satisfied` ì¹´ìš´í„° ì¡°ì‘ ë°©ì‹

`satisfied`ëŠ” ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ë¡œì§ ë‚´ì—ì„œ **íŠ¹ì • ì‹œì ì—ë§Œ ì¡°ì‘ë˜ëŠ”ë°** í•´ë‹¹ ì‹œì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì–´ë– í•œ í’ˆëª©ì´ wantë¥¼ ëª» ë§Œì¡±í•˜ë‹¤ê°€ -> ë§Œì¡±í•˜ê²Œ ë¨ (+1)
- ì–´ë– í•œ í’ˆëª©ì´ wantë¥¼ ë§Œì¡±í•˜ë‹¤ê°€ -> ëª» ë§Œì¡±í•˜ê²Œ ë¨ (-1)

ë‹¤ì‹œ ë§í•´ stateê°€ ë³€í•˜ëŠ” ì°°ë‚˜ì—ë§Œ ì¹´ìš´í„°ë¥¼ ì¡°ì‘í•´ì¤€ë‹¤.

ê·¸ëŸ¬ë©´ ëª¨ë“  í’ˆëª©ì´ ë§Œì¡±í–ˆì„ ë• ì¹´ìš´í„°ê°€ wantì˜ í’ˆëª© ì¢…ë¥˜ ê°œìˆ˜ì™€ ê°™ì„ ê²ƒì´ê³ , ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ ê°™ì§€ ì•Šì„ ê²ƒì´ë‹¤.

:::

<br />

#### ğŸ“Œ Sliding Window

```java
// slide: window size = 10
while (rdx < discount.length-1) {
    String lItem = discount[ldx];
    String rItem = discount[rdx+1];
        
    // calculate map & counter
    availMap.merge(lItem, -1, Integer::sum);
    if (availMap.get(lItem) == wantMap.getOrDefault(lItem, 0) - 1)
        satisfied -= 1;
    ++ldx;
    availMap.merge(rItem, 1, Integer::sum);
    if (availMap.get(rItem) == wantMap.getOrDefault(rItem, 0))
        satisfied += 1;
    ++rdx;
    
    if (satisfied == want.length)
        ans += 1;
}
```

ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ëŠ” ë‹¤ìŒì˜ ìˆœì„œë¡œ ìˆ˜í–‰í•œë‹¤.

1. êµ¬ê°„ì— ë“¤ì–´ì˜¤ê±°ë‚˜ ë°–ìœ¼ë¡œ ë‚˜ê°€ëŠ” í’ˆëª©ì— ë§ì¶”ì–´ `availMap` ìˆ˜ì •
2. ë°©ê¸ˆ ê·¸ í’ˆëª©ë“¤ì— state ë³€í™”ê°€ ìˆëŠ”ì§€ ì²´í¬ (= `satisfied`ë¥¼ ì¡°ì‘í•´ì•¼ë˜ëŠ” ì¡°ê±´ì¸ì§€)
3. êµ¬ê°„ ê²½ê³„ ì¸ë±ìŠ¤ ì¡°ì •
4. ì •ë‹µì¼ì´ë©´ +1 ì¹´ìš´íŠ¸

ì—¬ê¸°ì„œ `getOrDefault`ëŠ” ìë°”ê°€ í•´ì‹±ë˜ì§€ ì•Šì€ keyë¡œ ì ‘ê·¼í•˜ë ¤ë“¤ë©´ Exceptionì„ ë¿œì–´ì„œ(...) ì‚¬ìš©í•œ ê²ƒì´ë‹¤.

(`want`ì˜ í’ˆëª© ì¢…ë¥˜ &lt;= ëª¨ë“  í–‰ì‚¬ í’ˆëª© ì¢…ë¥˜) ë¼ì„œ `wantMap`ì„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” keyë¡œ ì ‘ê·¼í•˜ëŠ” ìƒí™©ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

<br />

### ë©”ëª¨

- íˆ¬í¬ì¸í„° ì•„ë‹˜! íˆ¬í¬ì¸í„°ëŠ” ìœˆë„ìš° í¬ê¸°ê°€ ê°€ë³€ì ì´ë‹¤.
- íŒŒì´ì¬ ë”•ì…”ë„ˆë¦¬ ì“°ë‹¤ê°€ ìë°” í•´ì‹œë§µ ì“°ë‹ˆê¹Œ ëˆˆë¬¼ì´ ë˜ ë‚˜ì˜¤ë ¤ê³  í•œë‹¤...
- ëŒë ¤ë³´ê³  WA ëœ¨ë©´ ë””ë²„ê¹…í• ë¼ í–ˆëŠ”ë° 1íŠ¸ ì œì¶œ ì»·í•´ì„œ ë‹¹í™©í•¨