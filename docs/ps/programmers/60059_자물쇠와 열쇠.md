---
title: '60059 - ìë¬¼ì‡ ì™€ ì—´ì‡ '
eng_title: '60059 - ìë¬¼ì‡ ì™€ ì—´ì‡ '
slug: '/ps/programmers/60059_ìë¬¼ì‡ ì™€ ì—´ì‡ '
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '60059 - ìë¬¼ì‡ ì™€ ì—´ì‡ '
sidebar_position: 60059
created_date: 2025-05-06
---

# 60059 - ìë¬¼ì‡ ì™€ ì—´ì‡ 

:::info

- **ë¬¸ì œ ë³´ê¸°**: [60059 - ìë¬¼ì‡ ì™€ ì—´ì‡ ](https://school.programmers.co.kr/learn/courses/30/lessons/60059)
- **ì†Œìš” ì‹œê°„**: ğŸ’¥**1ì‹œê°„ ì´ˆê³¼**
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 4ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`êµ¬í˜„`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 92200 KB
- **ì‹œê°„**: 6 ms

:::

```java
class Solution {
    int n, m;
    int zeros; // number of zeros in lock
    int[][] key, lock;
    int[][] key90, key180, key270;
    int[][][] keyArr;

    public boolean solution(int[][] key, int[][] lock) {
        this.n = lock.length;
        this.m = key.length;
        this.key = key;
        this.lock = lock;
        initKey();
        initZeros();

        // set offset
        for (int yOfs = -m + 1; yOfs < n; ++yOfs) {
            for (int xOfs = -m + 1; xOfs < n; ++xOfs) {
                boolean[] kFail = new boolean[4];
                int[] cnt = new int[4];

                kfor: // offset done -> match key
                for (int k = 0; k < 4; ++k) {
                    for (int ky = 0; ky < m; ++ky) {
                        for (int kx = 0; kx < m; ++kx) {
                            if (kFail[k]) continue;

                            int ly = ky + yOfs;
                            int lx = kx + xOfs;
                            if (ly < 0 || ly >= n || lx < 0 || lx >= n) continue;

                            int kVal = keyArr[k][ky][kx];
                            int lVal = lock[ly][lx];

                            if ((kVal ^ lVal) == 0) { // collide or can't solve all
                                kFail[k] = true;
                                continue kfor;
                            } else if (lVal == 0) { // match: 1 solved
                                ++cnt[k];
                            }
                        }
                    }
                } // end of key match

                for (int i = 0; i < cnt.length; ++i) {
                    if (cnt[i] == zeros && !kFail[i]) return true;
                }
            }
        }

        return false;
    }

    public void initKey() {
        key90 = new int[m][m];
        key180 = new int[m][m];
        key270 = new int[m][m];
        keyArr = new int[][][]{key, key90, key180, key270};
        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < m; ++j) {
                key90[j][m - i - 1] = key[i][j];
                key180[m - i - 1][m - j - 1] = key[i][j];
                key270[m - j - 1][i] = key[i][j];
            }
        }
    }

    public void initZeros() {
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (lock[i][j] == 0) ++zeros;
            }
        }
    }
}
```

<br />

### í’€ì´ í•´ì„¤

2ì°¨ì› ë°°ì—´ë¡œ ëœ keyë¥¼ 90ë„ì”© íšŒì „í•˜ê±°ë‚˜ í•œì¹¸ì”© ì´ë™í•´ì„œ lockì„ ë§ì¶°ë³´ëŠ” ë¬¸ì œì´ë‹¤.

ëŒê¸°(1)ì™€ í™ˆ(0)ì´ ìˆê³ , ëŒê¸°ë¼ë¦¬ ë¶€ë”ªíˆë©´ ì•ˆëœë‹¤ëŠ” ì¡°ê±´ì´ ìˆë‹¤.

lockì˜ ëª¨ë“  í™ˆì´ ë§ì¶°ì§€ë©´ `true`ë¥¼ ë¦¬í„´í•´ì•¼ í•œë‹¤.

<br />

#### ğŸ“Œ ë¡œì§ì˜ ê°œìš”

í¬ê²Œ 3-stepìœ¼ë¡œ êµ¬ì„±ëœë‹¤.

---

1. `key`ì— ëŒ€í•œ 90/180/270ë„ íšŒì „ëœ ëª¨ì–‘ì„ ë³„ë„ë¡œ ì €ì¥
2. `key`ì™€ lock ê°„ì˜ ì˜¤í”„ì…‹ ì„¸íŒ…
3. matching

---

ë°°ì—´ í™•ì¥ë²•ìœ¼ë¡œ í’€ ìˆ˜ ìˆë‹¤ëŠ”ë° ê·¸ëƒ¥ ì˜¤í”„ì…‹ìœ¼ë¡œ ê³„ì‚°í–ˆë‹¤.

<p style={{fontSize:'32px'}}><b>ì˜¤í”„ì…‹ ê³„ì‚° ë°©ì‹ì´ í›¨ì”¬ ë” ë¹ ë¦„</b> ğŸ‘</p>

í•˜ì§€ë§Œ ë°°ì—´ í™•ì¥ë²•ë„ ì•Œì•„ë‘¬ì„œ ë‚˜ì ê±´ ì—†ì–´ë³´ì¸ë‹¤. í’€ì´í•˜ê¸° ë” ì‰¬ì›Œì§„ë‹¤ë©´ì•¼...

<br />

#### ğŸ“Œ XOR Check

ìë¬¼ì‡ ì™€ ì—´ì‡ ì˜ ê° ëŒ€ì‘ë˜ëŠ” ì¹¸ì´ ì˜ ë§ì•„ë–¨ì–´ì§€ëŠ”ì§€ëŠ” XOR ì—°ì‚°ìœ¼ë¡œ íŒë‹¨ì´ ê°€ëŠ¥í•˜ë‹¤.

ë‹¹ì—°íˆ XORê°’ì´ 1ì´ ë˜ì–´ì•¼ í•œë‹¤.

ê·¸ëŸ¼ 0ì´ ë‚˜ì˜¤ëŠ” ê²½ìš°ëŠ”?

1. ìë¬¼ì‡ (1), ì—´ì‡ (1) --> ëŒê¸°ë¼ë¦¬ ì¶©ëŒí•´ì„œ í•´ë‹¹ ì—´ì‡  ì„¸íŒ…ì€ ë¬´íš¨í•¨
2. ìë¬¼ì‡ (0), ì—´ì‡ (0) --> ìë¬¼ì‡  í™ˆì„ ì±„ìš¸ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ í•´ë‹¹ ì—´ì‡  ì„¸íŒ…ì€ ë¬´íš¨í•¨

ìš”ë˜ ë  ê²ƒì´ë‹¤.

```java
if ((kVal ^ lVal) == 0) { // collide or can't solve all
    kFail[k] = true;
    continue kfor;
}
```

ë°˜ëŒ€ë¡œ 1ì´ ë‚˜ì˜¤ëŠ” ê²½ìš°ë„ ë”°ì ¸ë³´ì.

1. ìë¬¼ì‡ (1), ì—´ì‡ (0) --> ìë¬¼ì‡  ëŒê¸°ì— ì•ˆ ë¶€ë”ªíˆê³  ìŠ¤ë¬´ìŠ¤í•˜ê²Œ ë„˜ì–´ê°
2. ìë¬¼ì‡ (0), ì—´ì‡ (1) --> ìë¬¼ì‡  í™ˆì„ ì±„ì›€ (OKğŸ˜‰)

ë”°ë¼ì„œ 2ë²ˆ ì¼€ì´ìŠ¤ëŠ” ë”°ë¡œ ì¹´ìš´íŒ…í•´ì¤¬ë‹¤.

```java
else if (lVal == 0) { // match: 1 solved
    ++cnt[k];
}
```

<br />

#### ğŸ” keyì˜ `true` ì—¬ë¶€ ê²€ì‚¬

ì‚¬ì „ì— ì¹´ìš´íŒ…í•´ë‘” ì´ ìë¬¼ì‡  í™ˆ ê°œìˆ˜ì™€ ë§¤ì¹­ëœ í™ˆ ê°œìˆ˜ë¥¼ ë¹„êµí•´ì„œ trueë¥¼ ë¦¬í„´í• ì§€ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë§Œ í™ˆì´ ë‹¤ ì±„ì›Œì¡ŒëŠ”ë° ëŒê¸°ë¼ë¦¬ ì¶©ëŒí•´ì„œ ì—´ì‡ ê°€ ë¬´íš¨ì²˜ë¦¬ë˜ëŠ” ê²½ìš°ë„ ë°œìƒ ê°€ëŠ¥í•˜ë‹¤.

ê·¸ë˜ì„œ `kFail`ë„ ê°™ì´ ì¡°ê±´ì— ë“¤ì–´ê°€ê²Œ ëœë‹¤.

```java
for (int i = 0; i < cnt.length; ++i) {
    if (cnt[i] == zeros && !kFail[i]) return true;
}
```

<br />

#### ğŸ“Œ Early continue & Guard clause

ì¤‘ì²©ì´ ì‹¬í•´ì„œ í•´ë‹¹ ê¸°ë²•ìœ¼ë¡œ ê°€ë…ì„±ì„ ê°œì„ í–ˆë‹¤.

```java
if (kFail[k]) continue;
if (ly < 0 || ly >= n || lx < 0 || lx >= n) continue;
```

<br />

### ë©”ëª¨

- ì˜¤í”„ì…‹ ê³„ì‚°ì´ í—¬ì„ ë‚˜ë¨¸ì§€ëŠ” ë¬´ë‚œí•¨
    - ë°œìƒì€ ë‹¤ ë§ì•˜ìŒ ê·¼ë° ì˜¤í”„ì…‹ ê³„ì‚° ì‚‘ë‚˜ì„œ ì‹œê°„ ì¡ì•„ë¨¹ìŒ (ìµìˆ™í•´ì§€ë©´ 4~50ë¶„ í’€ì´ ê°€ëŠ¥í• ë“¯)