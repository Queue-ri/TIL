---
title: '92343 - ì–‘ê³¼ ëŠ‘ëŒ€'
eng_title: '92343 - ì–‘ê³¼ ëŠ‘ëŒ€'
slug: '/ps/programmers/92343_ì–‘ê³¼ ëŠ‘ëŒ€'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '92343 - ì–‘ê³¼ ëŠ‘ëŒ€'
sidebar_position: 92343
created_date: 2025-04-25
updated_date: 2025-04-27
---

# 92343 - ì–‘ê³¼ ëŠ‘ëŒ€

:::info

- **ë¬¸ì œ ë³´ê¸°**: [92343 - ì–‘ê³¼ ëŠ‘ëŒ€](https://school.programmers.co.kr/learn/courses/30/lessons/92343)
- **ì†Œìš” ì‹œê°„**: ğŸ’¥**1ì‹œê°„ ì´ˆê³¼**
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 3ï¸âƒ£~4ï¸âƒ£ (3.8)
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ë°±íŠ¸ë˜í‚¹` `ë¹„íŠ¸ë§ˆìŠ¤í‚¹`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 90500 KB
- **ì‹œê°„**: 3 ms

:::

```java
import java.util.*;

class Solution {
    List<Integer> ansList;
    int[][] _edges;
    int[] _info;
    boolean[] visited;
    
    public void dfs(int sheep, int wolf) {
        if (sheep > wolf) ansList.add(sheep);
        else return; // base case
        
        for (int[] e : _edges) {
            if (visited[e[0]] && !visited[e[1]]) {
                visited[e[1]] = true;
                if (_info[e[1]] == 0) dfs(sheep+1, wolf); // ê°€ë ¤ëŠ” ê³³ì´ ì–‘
                else dfs(sheep, wolf+1); // ê°€ë ¤ëŠ” ê³³ì´ ëŠ‘ëŒ€
                visited[e[1]] = false;
            }
        }
    }
    
    public int solution(int[] info, int[][] edges) {
        _edges = edges;
        _info = info;
        ansList = new ArrayList<>();
        visited = new boolean[info.length];
        Arrays.fill(visited, false);
        visited[0] = true;
        dfs(1, 0);
        
        return Collections.max(ansList);
    }
}
```

<br />

### í’€ì´ í•´ì„¤

ìƒíƒœê³µê°„ íŠ¸ë¦¬ë¥¼ dfsë¡œ íƒìƒ‰í•˜ëŠ” ë°±íŠ¸ë˜í‚¹ ë¬¸ì œì´ë‹¤. (ë¬¼ë¡  bfsë„ ê°€ëŠ¥í•œë°, dfsê°€ í¸í•¨.)

ê° ê°„ì„  e = (s, t)ë¥¼ ìˆœíšŒí•˜ë©° ë°©ë¬¸í•œ ì •ì  së¡œë¶€í„° ë°©ë¬¸í•˜ì§€ ì•Šì€ ì •ì  të¡œ ì¬ê·€ í˜¸ì¶œí•˜ì—¬ ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•œë‹¤.

ë‹¤ì‹œ ë§í•´, í˜„ì¬ ë°©ë¬¸í•œ ì •ì ë“¤ë¡œ êµ¬ì„±ë˜ëŠ” ê·¸ë˜í”„ë¡œë¶€í„°, ì ì  ì˜ì—­ í™•ì¥ì„ ì‹œë„í•˜ëŠ” ê²ƒì´ë‹¤.

<br />

#### ğŸ“Œ ì •ë‹µ í›„ë³´ êµ¬í•˜ê¸°

ê° ë°©ë¬¸ ìƒíƒœ ë³„ë¡œ ìœ íš¨í•œ(promising) ê²½ìš°ì˜ ìˆ˜ì´ë©´ í•´ë‹¹ ê²½ìš°ì˜ ì–‘ ë§ˆë¦¬ ìˆ˜ë¥¼ í›„ë³´êµ°ì— ì˜¬ë¦°ë‹¤.

#### ğŸ“Œ ê°€ì§€ì¹˜ê¸°í•˜ê¸° (pruning)

ëŠ‘ëŒ€ê°€ ì–‘ì˜ ìˆ˜ë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë©´ ê°–ë‹¤ ë²„ë¦¬ëŠ”(non-promising) ê²½ìš°ì˜ ìˆ˜ì´ë¯€ë¡œ ê°€ì§€ì¹˜ê¸° í•´ì¤€ë‹¤.

> *ì´ë ‡ê²Œ ê°€ì§€ì¹˜ê¸°í•˜ì—¬ non-promisingí•œ ë…¸ë“œê°€ ì œê±°ëœ ë¶€ë¶„íŠ¸ë¦¬ë¥¼ pruned state space treeë¼ê³  í•œë‹¤.*

```java
if (sheep > wolf) ansList.add(sheep); // candidate
else return; // base case
```

<br />

:::caution

### âŒ ê³µì‹ í’€ì´ì— ì˜¤ë¥˜ê°€ ìˆìŒ

í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ë„ í‹€ì™œë§ ì²˜ë¦¬í•´ì¤Œ. ~~*ìœ êµ¬í•œ ì „í†µ*~~

:::

ê°“í‚¹ë…ì— ì˜í•˜ë©´ ë°±íŠ¸ë˜í‚¹ë„ TLE í„°ì§€ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë¼ í†µê³¼ë˜ë©´ ì•ˆëœë‹¤ê³  í•œë‹¤.

ìƒê°í•´ë³´ë‹ˆ `visited` ì²˜ë¦¬ë¥¼ ì •ì  ê¸°ì¤€ìœ¼ë¡œ í•˜ê³  ìˆëŠ”ë°, ì´ëŸ¬ë©´ ì„œë¡œ ë‹¤ë¥¸ ê²½ë¡œë¡œ ê°™ì€ stateì— ë„ë‹¬í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ stateê°€ ë‹¤ìŒê³¼ ê°™ë‹¤ê³  í•˜ì.

```
  a
 / \
b   c
```

í•´ë‹¹ stateëŠ” a - b ë¼ëŠ” stateì—ì„œ cë¥¼ ë°©ë¬¸í•˜ì—¬ ë„ë‹¬í•  ìˆ˜ë„ ìˆê³ 

a - c ë¼ëŠ” stateì—ì„œ bë¥¼ ë°©ë¬¸í•˜ì—¬ ë„ë‹¬í•  ìˆ˜ë„ ìˆë‹¤.

ê²°êµ­ ì¤‘ë³µ state ì—°ì‚°ìœ¼ë¡œ ë¹„íš¨ìœ¨ì„±ì´ ë°œìƒí•˜ê¸°ì— ì—„ì—°íˆëŠ” ì •ì ì´ ì•„ë‹ˆë¼ ê° stateë¥¼ `visited` ì²˜ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤.

ì´ ê²½ìš° $n = 17$ ì´ë¼ ê°€ëŠ¥í•œ stateëŠ” $2^{17}$ ê°œì´ë©°, ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ì²˜ë¦¬í•´ì£¼ë©´ ëœë‹¤.

```java title='ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ì˜ˆì‹œ'
boolean[] visited = new boolean[1<<17]; // visited[x]: ìƒíƒœ xë¥¼ ë°©ë¬¸í–ˆëŠ”ê°€?
...
void dfs(int state) {
    if(visited[state]) return; // ì´ë¯¸ ë°©ë¬¸í•¨
    ...
    // ë‹¤ìŒ ìƒíƒœ íƒìƒ‰ (í˜„ì¬ ì •ì  = i)
    for (int i = 0; i < n; ++i) {
        // ië²ˆì§¸ ë¹„íŠ¸ê°€ êº¼ì ¸ìˆëŠ” ê²½ìš° ì •ì  ië¥¼ ë°©ë¬¸í•œê²Œ ì•„ë‹ˆë¯€ë¡œ íŒ¨ìŠ¤
        if((state & (1<<i)) == 0) continue;
        // ì™¼ìª½ ìì‹ì´ ìˆë‹¤ë©´
        if(l[i] != -1)
            dfs(state | (1<<l[i]));
        // ì˜¤ë¥¸ìª½ ìì‹ì´ ìˆë‹¤ë©´
        if(r[i] != -1)
            dfs(state | (1<<r[i]));
    }
}
```

<br />

### ë©”ëª¨

- ë‹¤ì‹œ í’€ì–´ë³¼ ê°€ì¹˜ê°€ ìˆëŠ” ë¬¸ì œì´ë‹¤.
- ìœ í˜•ì— ìµìˆ™í•˜ë©´ 3 ë‚œì´ë„ ë§ê³  ì•ˆìµìˆ™í•˜ë©´ 3.5, ìµœì í™”ê¹Œì§€ í¬í•¨í•˜ë©´ í˜„ì¬ ì²´ê° ë‚œì´ë„ 3.8.
- ì–´ì©ì§€ nì´ ì‘ì•„ì„œ ë­”ê°€ ì‹¶ì—ˆëŠ”ë° ì´ì§„ íŠ¸ë¦¬ ìƒì˜ íƒìƒ‰ì´ ì•„ë‹ˆì—ˆë‹¤.
    - ê·¸ë¦¼ì€ í•¨ì •ã…‹ì„
    - nì´ ì‘ìœ¼ë©´ ì¼ë‹¨ ì™„íƒ ì˜ì‹¬ -> ê·¸ ê¸°ë°˜ì˜ +a ìµœì í™” ê¸°ë²• ë– ì˜¬ë¦¬ê¸°
- ì˜¤ë˜ ë§¤ë‹¬ë ¤ì„œ ì´ì§„ íŠ¸ë¦¬ ìƒì˜ dfs/bfsë¡œ í’€ ìˆ˜ ìˆëŠ” íŒ¨í„´ì„ ì°¾ìœ¼ë ¤ í–ˆëŠ”ë° ì•ˆì°¾ì•„ì§€ë”ë¼...
    - ì‹¤ì „ì—ì„œ íŒ¨í„´ ì˜ ì•ˆë³´ì´ë©´ ìƒíƒœ íŠ¸ë¦¬ë¡œ ë°”ê¾¸ì–´ ìƒê°í•´ë³¼ ê²ƒ