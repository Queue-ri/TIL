---
title: '3068 - Find the Maximum Sum of Node Values'
eng_title: '3068 - Find the Maximum Sum of Node Values'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '3068 - Find the Maximum Sum of Node Values'
sidebar_position: 3068
created_date: 2025-05-23
updated_date: 2025-08-13
---

# 3068 - Find the Maximum Sum of Node Values

:::info

- **ë¬¸ì œ ë³´ê¸°**: [3068 - Find the Maximum Sum of Node Values](https://leetcode.com/problems/find-the-maximum-sum-of-node-values)
- **ì†Œìš” ì‹œê°„**: 21ë¶„ 18ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 4ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ë¹„íŠ¸ ì¡°ì‘` `ì •ë ¬` `ê·¸ë¦¬ë””`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 56000 KB
- **ì‹œê°„**: 7 ms

:::

```java
class Solution {
    public long maximumValueSum(int[] nums, int k, int[][] edges) {
        // 1. pre-calc XOR diff values
        int[] diff = new int[nums.length];
        for (int i = 0; i < nums.length; ++i) diff[i] = (nums[i] ^ k) - nums[i];

        // 2. get max sum
        long ans = 0;
        for (int n : nums) ans += n;

        // sort desc
        // diff = Arrays.stream(diff).boxed().sorted(Collections.reverseOrder()).mapToInt(i->i).toArray();
        // sort asc
        Arrays.sort(diff);
        for (int i = diff.length-1; 0 < i; i-=2) {
            int diffSum = diff[i] + diff[i-1];
            if (0 < diffSum) ans += diffSum;
            else break;
        }

        return ans;
    }
}
```

<br />

### í’€ì´ í•´ì„¤

Bit Manipulationê³¼ Greedy ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ì„œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì´ë‹¤.

<br />

#### ğŸ”® XOR íŠ¸ë¦­

XOR ì—°ì‚°ì˜ íŠ¹ì§• ìƒ (a ^ b) ^ b = a ì´ë¯€ë¡œ

í•œ ë²ˆ XOR ì—°ì‚°í•œ `nums[i]`ëŠ” **ì¬ì—°ì‚°í•  í•„ìš”ê°€ ì—†ìŒ**ì„ ì•Œ ìˆ˜ ìˆë‹¤.

<br />

ë˜í•œ ì§€ë¬¸ì—ì„œ ë¬´ì¡°ê±´ íŠ¸ë¦¬ í˜•ì‹ì˜ ì…ë ¥ì´ ì£¼ì–´ì§„ë‹¤ê³  í–ˆëŠ”ë°, ê·¸ì— ë”°ë¼ ëª¨ë“  ë…¸ë“œê°€ ì„œë¡œ ì—°ê²°ë¨ì´ ë³´ì¥ëœë‹¤.

ê·¸ë¦¬ê³  ì—¬ê¸°ì— XORì˜ íŠ¹ì§•ì„ ì´ìš©í•˜ë©´ ê°„ì„ ìœ¼ë¡œ ì´ì–´ì§„ **ì¸ì ‘ ë…¸ë“œë¼ë¦¬ê°€ ì•„ë‹ˆë”ë¼ë„ XOR ì—°ì‚°ì´ ê°€ëŠ¥í•¨**ì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì™œëƒí•˜ë©´ ì˜ˆë¥¼ ë“¤ì–´ íŠ¸ë¦¬ê°€ ì´ëŸ° ëª¨ì–‘ì´ë¼ê³  ê°€ì •í–ˆì„ ë•Œ

```css
   0
  / \
 1   2
      \
       3
```

ê°„ì„  ì •ë³´ëŠ” \{{0, 1}, {0, 2}, {2, 3}} ìœ¼ë¡œ ì£¼ì–´ì§€ê² ì§€ë§Œ, ê²°êµ­ ëª¨ë“  ë…¸ë“œëŠ” ê±´ë„ˆê±´ë„ˆ í•œ ê·¸ë˜í”„ë¡œ ì—°ê²°ë˜ì–´ìˆê¸° ë•Œë¬¸ì—

ì‚¬ì´ì— ë¼ì–´ìˆëŠ” ë…¸ë“œ 0, 2ë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ë…¸ë“œ 1ê³¼ 3ë§Œ XOR ì—°ì‚°í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ì¢€ ë” ì •í™•íˆëŠ”, {1, 0} -> {0, 2} -> {2, 3} ë…¸ë“œ ìˆœìœ¼ë¡œ 3ë²ˆ XOR ì—°ì‚°í•˜ëŠ” ê²°ê³¼ê°€

{1, 3} ë…¸ë“œë¥¼ íƒí•˜ì—¬ 1ë²ˆ XORí•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤ëŠ” ì ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

<br />

#### âš¡ Think *GREEDY*

êµ¬í•˜ê³ ì í•˜ëŠ” ê²ƒì€ XORì„ ì–´ì°Œì €ì°Œ ì˜ í•´ì„œ ìµœëŒ€ í•©ì„ êµ¬í•˜ëŠ” ê²ƒì´ë¯€ë¡œ

ë…¸ë“œë¥¼ 2ê°œì”© ì„ íƒí•´ì„œ XOR í•˜ì—¬ ì´ë“ì¸ ê²½ìš°ë§Œ ë”°ì ¸ë³´ì•„ì•¼ í•  ê²ƒì´ë‹¤.

ì´ë“ì€ ê³§ XORí•˜ê¸° ì „ë³´ë‹¤ ì»¤ì¡Œëƒë¥¼ ì˜ë¯¸í•˜ë¯€ë¡œ ê·¸ ì°¨ë¥¼ êµ¬í•˜ë©´ ëœë‹¤. (ì°¨ë¥¼ diffë¼ê³  í•˜ì.)

ë„ì¶œë˜ëŠ” diffëŠ” í¬ê²Œ 3ê°€ì§€ ìƒí™©ì¼ ê²ƒì¸ë°

1. ì–‘ìˆ˜, ì–‘ìˆ˜ -> ë‹¹ê·¼ ì´ë“
2. ìŒìˆ˜, ìŒìˆ˜ -> ë‹¹ê·¼ ì†í•´
3. **ì–‘ìˆ˜, ìŒìˆ˜ -> ??**

ì—¬ê¸°ì„œ 1, 2ë²ˆì€ ì²˜ë¦¬ê°€ ëª…í™•í•˜ì§€ë§Œ 3ë²ˆì˜ ê²½ìš° ì¼€ì´ìŠ¤ê°€ ê°ˆë¦¬ê²Œ ëœë‹¤.

ì´ëŠ” **ë„ì¶œëœ ì–‘ìˆ˜ì™€ ìŒìˆ˜ë¥¼ í•©í•´ì„œ ê·¸ë˜ë„ ì–‘ìˆ˜ì¸ì§€**(ì¦‰, ì–‘ìˆ˜ì˜ ì ˆëŒ€ê°’ì´ ë” í°ì§€)ì— ë”°ë¼ ì²˜ë¦¬í•˜ë©´ ëœë‹¤.

ê·¸ë¦¬ê³  3ë²ˆì—ì„œì˜ ìŒìˆ˜ê°’ì„ ìµœì†Œë¡œ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì—, ë¯¸ë¦¬ XORí•œ ê²°ê³¼ë¥¼ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ì—¬ 2ê°œì”© ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.

<br />

### ë©”ëª¨

- ë°œìƒì´ ì–´ë ¤ì›€.
- XOR swapì´ íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ ì´ë ‡ê²Œ í™œìš©ë˜ëŠ”ê²Œ ê¸°ë°œí•˜ê¸´ í•˜ë‹¤.
- ìë°”ëŠ” primitive type ì—­ìˆœ ì •ë ¬ì´ êµ¬ë¦° ë°©ì‹ë°–ì— ì—†ì–´ì„œ ê·¸ëƒ¥ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ê³  ê±°ê¾¸ë¡œ ìˆœíšŒí–ˆë‹¤.
    - ë°°ì—´ reverse ì‹œí‚¤ëŠ” ê²ƒë„ $O(n)$ì´ë”ë¼. EW...