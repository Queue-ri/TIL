---
title: '2081 - Sum of k-Mirror Numbers'
eng_title: '2081 - Sum of k-Mirror Numbers'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '2081 - Sum of k-Mirror Numbers'
sidebar_position: 2081
created_date: 2025-06-23
updated_date: 2025-06-24
---

# 2081 - Sum of k-Mirror Numbers

:::info

- **ë¬¸ì œ ë³´ê¸°**: [2081 - Sum of k-Mirror Numbers](https://leetcode.com/problems/sum-of-k-mirror-numbers)
- **ì†Œìš” ì‹œê°„**: 36ë¶„ 8ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 3ï¸âƒ£~4ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`êµ¬í˜„`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 44390 KB
- **ì‹œê°„**: 448 ms

:::

```java
class Solution {
    int k, n;
    List<Long> numList;

    // 1. gen base-k palindrome
    // 2. convert to base-10 & check palindrome
    public void gen(List<Integer> prefix, int remain, boolean isOdd) throws Exception {
        if (remain == 0) {
            List<Integer> digits = new ArrayList<>(prefix);
            int mid = isOdd ? prefix.size()-1 : prefix.size();
            for (int i = mid-1; i > -1; --i) {
                digits.add(prefix.get(i));
            }

            long num10 = 0;
            for (int d : digits) num10 = num10 * k + d;

            String s = Long.toString(num10);
            for (int l = 0, r = s.length()-1; l < r; ++l, --r)
                if (s.charAt(l) != s.charAt(r)) return;

            numList.add(num10);
            if (numList.size() >= n) throw new Exception();
            return;
        }

        for (int i = 0; i < k; ++i) {
            prefix.add(i);
            gen(prefix, remain-1, isOdd);
            prefix.remove(prefix.size()-1);
        }
    }

    public long kMirror(int k, int n) {
        this.k = k;
        this.n = n;
        numList = new ArrayList<>();

        try {
            for (int len = 1; ; ++len) {
                int half = (len + 1) >> 1;
                for (int i = 1; i < k; ++i) {
                    List<Integer> prefix = new ArrayList<>();
                    prefix.add(i);
                    gen(prefix, half-1, (len&1)==1);
                }
            }
        } catch (Exception e) {}

        long ans = 0;
        for (int i = 0; i < n; ++i) ans += numList.get(i);

        return ans;
    }
}
```

<br />

### í’€ì´ í•´ì„¤

ì–´ë–¤ ìˆ˜ë¥¼ 10ì§„ìˆ˜, kì§„ìˆ˜ë¡œ ë‚˜íƒ€ë‚´ì—ˆì„ ë•Œ ë‘˜ ë‹¤ íŒ°ë¦°ë“œë¡¬ì¼ ê²½ìš° k-Mirror ìˆ˜ë¼ê³  í•œë‹¤.

ì´ `n`ê°œì˜ k-Mirror ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©´ ë˜ëŠ” ë¬¸ì œì´ë‹¤.

ìš°ì„  ë¬¸ì œ í’€ì´ë¥¼ í¬ê²Œ 3ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

1. íŒ°ë¦°ë“œë¡¬ì¸ kì§„ìˆ˜ ìˆ˜ ìƒì„±
2. í•´ë‹¹ ìˆ˜ë¥¼ 10ì§„ìˆ˜ë¡œ ë³€í™˜
3. ë³€í™˜ëœ 10ì§„ìˆ˜ë„ íŒ°ë¦°ë“œë¡¬ì´ë©´ ì •ë‹µ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€

ì—¬ê¸°ì„œ 1ë²ˆì„ ìœ„í•´ ì¬ê·€ë¥¼ ì‚¬ìš©í•˜ê³ , TLEë¥¼ ê³ ë ¤í•˜ì—¬ ì¬ê·€ëŠ” íŒ°ë¦°ë“œë¡¬ ê¸¸ì´ì˜ ì ˆë°˜ê¹Œì§€ë§Œ ìˆ˜í–‰í•œë‹¤.

`prefix` digitì˜ ì¡°í•©ì„ êµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ í•¨ìˆ˜ `gen`ì€ ì›ì†Œì¶”ê°€ -> ì¬ê·€ -> ì›ì†Œì œê±° ìˆœì˜ ë©”ì¸ ë¡œì§ì„ ê°€ì§€ê³  ìˆëŠ”ë°,

ìƒë‹¨ì˜ 2, 3ë²ˆì˜ ê³¼ì • ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ base case ì²˜ë¦¬ê°€ ë©”ì¸ ë¡œì§ë³´ë‹¤ ë³µì¡í•˜ê²Œ ë‚˜ì˜¨ë‹¤.


```java title="base case ì „ì²´ ë¡œì§"
if (remain == 0) {
    List<Integer> digits = new ArrayList<>(prefix);
    int mid = isOdd ? prefix.size()-1 : prefix.size();
    for (int i = mid-1; i > -1; --i) {
        digits.add(prefix.get(i));
    }

    long num10 = 0;
    for (int d : digits) num10 = num10 * k + d;

    String s = Long.toString(num10);
    for (int l = 0, r = s.length()-1; l < r; ++l, --r)
        if (s.charAt(l) != s.charAt(r)) return;

    numList.add(num10);
    if (numList.size() >= n) throw new Exception();
    return;
}
```

<br />

#### ğŸ“Œ base case ë¡œì§ ì„¤ëª…

```java title="1. mirror í•˜ê¸°"
List<Integer> digits = new ArrayList<>(prefix);
int mid = isOdd ? prefix.size()-1 : prefix.size();
for (int i = mid-1; i > -1; --i) {
    digits.add(prefix.get(i));
}
```

`prefix`ë¥¼ ë‹¤ êµ¬í–ˆë‹¤ë©´ íŒ°ë¦°ë“œë¡¬ ì „ì²´ ê¸¸ì´ì˜ í™€ì§ì—¬ë¶€ì— ë”°ë¼ ì˜ mirrorí•´ì„œ `digits`ì— ë‹´ì•„ì¤€ ë’¤<br />
(-> í™€ìˆ˜ë©´ ë§¨ ë§ˆì§€ë§‰ prefixëŠ” ì • ê°€ìš´ë° ìˆ˜ë¼ì„œ mirror ëŒ€ìƒ ì•„ë‹ˆê²Œ ë¨)

```java title="2. 10ì§„ìˆ˜ ë³€í™˜ ë° ê²€ì‚¬"
long num10 = 0;
for (int d : digits) num10 = num10 * k + d;

String s = Long.toString(num10);
for (int l = 0, r = s.length()-1; l < r; ++l, --r)
    if (s.charAt(l) != s.charAt(r)) return;

numList.add(num10);
```

10ì§„ìˆ˜ ë³€í™˜ ë° íŒ°ë¦°ë“œë¡¬ì¸ì§€ ê²€ì‚¬í•´ì£¼ê³ , í†µê³¼ ëª»í•˜ë©´ ë‹¤ìŒ ì¡°í•© íƒìƒ‰ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.

```java title="3. ì¦‰ì‹œ íƒˆì¶œ or ìš°ì•„í•œ íƒˆì¶œ"
if (numList.size() >= n) throw new Exception();
return;
```

ë°˜ëŒ€ë¡œ í†µê³¼í•˜ë©´ `numList`ì— ì›ì†Œê°€ ì¶”ê°€ë˜ë¯€ë¡œ ì´ ë•Œ êµ¬í• ë§Œí¼ ë‹¤ êµ¬í–ˆëŠ”ì§€ íŒë‹¨ í›„

ë‹¤ êµ¬í–ˆìœ¼ë©´ íƒìƒ‰ì„ graceful exit í•˜ì§€ ì•Šê³  abrupt exití•œë‹¤.

<br />

### ë©”ëª¨

- ë‹¨ìˆœ êµ¬í˜„ê³¼ ë¹¡êµ¬í˜„ì˜ ì¤‘ê°„ ê·¸ ì¯¤ ì–´ë”˜ê°€
- íŒ°ë¦°ë“œë¡¬ ê¸¸ì´ì˜ ì ˆë°˜ê¹Œì§€ë§Œ ì¡°í•©ì„ êµ¬í•˜ê³  ì´í›„ëŠ” mirrorí•´ì„œ ë¶™ì´ëŠ”ê²Œ í•µì‹¬ì´ë‹¤. ì „ì²´ ê¸¸ì´ë¥¼ ì¬ê·€ë¡œ ì²˜ë¦¬í•˜ë ¤ê³  í•˜ë©´ TLE ë°œìƒí•¨
    - hard ë¬¸ì œ ëŒ€ë¶€ë¶„ì´ ì‹œê°„ë³µì¡ë„ ë¹¡ì„¸ê²Œ ì¡ëŠ”ë“¯