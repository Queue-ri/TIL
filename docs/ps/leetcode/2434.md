---
title: '2434 - Using a Robot to Print the Lexicographically Smallest String'
eng_title: '2434 - Using a Robot to Print the Lexicographically Smallest String'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '2434 - Using a Robot to Print the Lexicographically Smallest String'
sidebar_position: 2434
created_date: 2025-06-06
updated_date: 2025-06-07
---

# 2434 - Using a Robot to Print the Lexicographically Smallest String

:::info

- **ë¬¸ì œ ë³´ê¸°**: [2434 - Using a Robot to Print the Lexicographically Smallest String](https://leetcode.com/problems/using-a-robot-to-print-the-lexicographically-smallest-string)
- **ì†Œìš” ì‹œê°„**: 52ë¶„ 36ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 3ï¸âƒ£~4ï¸âƒ£ (3.3)
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ë¬¸ìì—´` `í•´ì‹œ` `ê·¸ë¦¬ë””`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 45640 KB
- **ì‹œê°„**: 36 ms

:::

```java
class Solution {
    public String robotWithString(String s) {
        // ì²« ê¸€ìë¥¼ ë¯¸ë¦¬ të¡œ init
        final int n = s.length();
        int[] remained = new int[26];
        char[] sArr = s.toCharArray();
        for (char ch : sArr) ++remained[ch-'a'];

        char[] t = new char[n];
        t[0] = sArr[0];
        --remained[sArr[0]-'a'];

        int i = 1;
        int j = 1;
        StringBuilder sb = new StringBuilder();
        while (sb.length() < n) {
            if (j < 1) {
                t[j++] = sArr[i];
                --remained[sArr[i++]-'a'];
            }
            else if (i == n) {
                //System.out.println("i==n: " + t[j-1]);
                sb.append(t[--j]);
            }
            else if (t[j-1] <= sArr[i]) { // ì‘ê±°ë‚˜ ê°™ìŒ -> ì¶œë ¥? ë³´ë¥˜?
                boolean smallest = true;
                for (int k = t[j-1]-'a'-1; -1 < k; --k) {
                    if (0 < remained[k]) {
                        smallest = false; // ë” ì‘ì€ ê°’ ë°œê²¬
                        break;
                    }
                }
                //System.out.println("smallest: " + smallest + " " + t[j-1] + " " + sArr[i]);
                if (smallest)
                    sb.append(t[--j]); // ì¶œë ¥: ì§€ê¸ˆêº¼ê°€ ìµœì„ 
                else {
                    t[j++] = sArr[i]; // ë³´ë¥˜: ë¯¸ë˜ì— ë” ì‘ì€ ê°’ ì¡´ì¬
                    --remained[sArr[i++]-'a'];
                }
            }
            else {
                t[j++] = sArr[i]; // ë³´ë¥˜: ì¶œë ¥ í›„ë³´ t[j]ë³´ë‹¤ sArr[i]ê°€ ë” ì‘ìŒ
                --remained[sArr[i++]-'a'];
            }
        }

        return sb.toString();
    }
}
```

<br />

### í’€ì´ í•´ì„¤

ë¬¸ìì—´ së¥¼ í•œë²ˆ ë‹¤ ìŠ¤ìº”í•˜ê¸´ í•´ì•¼ í•˜ëŠ”ë°, ê° ë¬¸ì ë‹¹ $O(n)$ ì²˜ë¦¬ê°€ ë“¤ì–´ê°€ë©´ $O(n^2)$ì´ ë˜ê³ , ì´ê±´ ë¬¸ìì—´ ê¸¸ì´ ìƒ ì–´ë µë‹¤.

ê·¸ë ‡ë‹¤ê³  $O(n)$ìœ¼ë¡œ ì‰½ê²Œ í•´ê²°ë‚  ì‘ì—…ì€ ì•„ë‹ˆê¸°ì—, $O(n\,logn)$ì˜ ì•Œê³ ë¦¬ì¦˜ì´ ì •ë‹µì´ê² ê±°ë‹ˆ í–ˆë‹¤.

- `t[j]`ëŠ” ë¹ˆê³µê°„ì´ë©° ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚½ì…í•œ ë¬¸ìëŠ” `t[j-1]`ì— ìˆë‹¤. tëŠ” ìŠ¤íƒì²˜ëŸ¼ ì‘ë™í•œë‹¤.
- `sArr[i]`ëŠ” tì— ë“¤ì–´ê°ˆ ì°¨ë¡€ê°€ ëœ ë¬¸ìì´ë‹¤.

<br />

í•˜ë‹¨ì˜ ì‚¬ê³  ê³¼ì •ìœ¼ë¡œ í’€ì´í–ˆë‹¤.

---
í  sì˜ ì•ì—êº¼ë¥¼ ë–¼ì–´ì„œ t ê½ë¬´ë‹ˆì— ë„£ê³ , ì¶œë ¥í• ë• t ê½ë¬´ë‹ˆêº¼ë¥¼ ë¹¼ë‹¤ ì“´ë‹¤ê³ ?<br />
ğŸ‘‡<br />
ok... ì¶œë ¥í•˜ë ¤ë©´ ì¼ë‹¨ sì—ì„œ ë¹¼ì„œ të¡œ ì´ë™í•´ì•¼ í•˜ë„¤<br />
ğŸ‘‡<br />
ê·¼ë° tì— ë„£ìœ¼ë©´ ë„£ì„ìˆ˜ë¡ ë¨¼ì € ë„£ì—ˆë˜ê²Œ ì•ˆìª½ìœ¼ë¡œ ë°€ë¦¬ì–ì•„?<br />
ğŸ‘‡<br />
ê·¸ëŸ¬ë‹ˆê¹Œ tì— ë„£ê¸° ì „ì— tì˜ ê½ë¬´ë‹ˆë‘ tì— ë„£ì„ê±°ë‘ ë­ê°€ ë” lex smallí•œì§€ íŒë‹¨í•´ì•¼ê² ë„¤. ê½ë¬´ë‹ˆê°€ ë” ì‘ìœ¼ë©´ ë¨¼ì € ì¶œë ¥í•´ë²„ë¦¬ì<br />
ğŸ‘‡<br />
ì•„ ê·¼ë° sì˜ ë‚˜ë¨¸ì§€ ë¬¸ì ì¤‘ì— ê½ë¬´ë‹ˆë³´ë‹¤ ë” smallí•œê²Œ ìˆìœ¼ë©´ ì—¬ê¸°ì„œ ì¶œë ¥í•˜ëŠ”ê²Œ ì†í•´êµ¬ë‚˜<br />
ğŸ‘‡<br />
ê·¸ëŸ¼ ì¶œë ¥ ì „ì— í˜„ ìƒí™©ì—ì„œ smallestí•œê±´ì§€ íŒë‹¨í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ì<br />
ğŸ‘‡<br />
ë¬¸ìì—´ ê¸¸ì´ ë²”ìœ„ê°€ ê½¤ ì»¤ì„œ smallest íŒë‹¨ì— ë§¤ë²ˆ ìˆœíšŒí•˜ê¸´ ì¢€ ê·¸ë ‡ê³ , í•´ì‹œ ì¹´ìš´í„°ë¥¼ ë‘ëŠ”ê²Œ ì¢‹ê² ë‹¤<br />
ğŸ‘‡<br />
ë§Œì•½ s ìˆœíšŒ ëë‚˜ê¸°ë„ ì „ì— të¥¼ ë‹¤ ì¶œë ¥í•´ë²„ë¦¬ë©´ ë¬´ì¡°ê±´ í•˜ë‚˜ ë–¼ì–´ì„œ tì— ì£¼ê³ <br />
ğŸ‘‡<br />
s ìˆœíšŒ ëë‚¬ìœ¼ë©´ tì— ë‚¨ì€ê±° ì­‰ ì¶œë ¥í•´ì•¼ì§€

---

<br />

:::caution

### ê½ë¬´ë‹ˆê°€ ë” ì‘ì§€ë„ í¬ì§€ë„ ì•Šê³ , ê°™ìœ¼ë©´?

ê°™ìœ¼ë©´ ì¶œë ¥í•´ì•¼ ë˜ë‚˜ ë³´ë¥˜(=tì— ë„£ê¸°)í•´ì•¼ ë˜ë‚˜ ê³ ë¯¼ì´ ë˜ëŠ”ë°,

ë³´ë¥˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ë¡œì§ì„ ì§œë©´ ë‹¤ìŒì˜ ë°˜ë¡€ì—ì„œ WAë¥¼ ë°›ëŠ”ë‹¤.

```
s = "bczdaz"

ê²°ê³¼: "adzzcb"
ì •ë‹µ: "adzcbz"
```

:::

<br />

#### íš¨ìœ¨ì ìœ¼ë¡œ smallest ì—¬ë¶€ íŒë³„í•˜ê¸°

ë¬¸ìì—´ ê¸¸ì´(n)ê°€ ìµœëŒ€ $10^5$ì´ë¯€ë¡œ, sì˜ $[i+1,\,n)$ êµ¬ê°„ì„ ë‹¤ ìŠ¤ìº”í•´ì„œ

ì§€ê¸ˆ ì¶œë ¥í• ì§€ ë§ì§€ ê³ ë¯¼ì¤‘ì¸ `t[j-1]`ë³´ë‹¤ ì‘ì€ ë¬¸ìê°€ ìˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” ê²ƒì€ TLEì´ë‹¤.

ë”°ë¼ì„œ `remained`ë¼ëŠ” ë°°ì—´ì— `s`ë¥¼ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ë¬¸ìë¥¼ í•´ì‹±í•´ì„œ ì¹´ìš´íŒ…í•˜ê³ ,

ì•ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•  $[i+1,\,n)$ êµ¬ê°„ì—ì„œì˜ ë¬¸ì ì¹´ìš´íŒ… í˜„í™©ì„ ì•Œ ìˆ˜ ìˆê²Œë”

sì˜ ë¬¸ìê°€ të¡œ ë³´ë‚´ì§ˆë•Œë§ˆë‹¤ í•´ë‹¹ ë¬¸ì ì¹´ìš´í„°ë¥¼ 1ì”© ëº€ë‹¤.

í•´ë‹¹ ë°©ì‹ìœ¼ë¡œëŠ” ì•ŒíŒŒë²³ì´ í•´ë´¤ì 26ê°œì´ë‹ˆ $O(26)$ìœ¼ë¡œ `smallest`ë¥¼ íŒë³„í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

<br />


#### ğŸ§ª `TreeMap` ì‚¬ìš©í•´ë³´ê¸°

ì²˜ìŒì—” ìµœì†Œí™ì´ ìƒê°ë‚˜ì„œ `PriorityQueue`ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆìœ¼ë‚˜, `remove` ì¸¡ë©´ì—ì„œ ë¹„íš¨ìœ¨ì„±ì´ ìˆì—ˆë‹¤.

![https://media.geeksforgeeks.org/wp-content/cdn-uploads/Leaf-starting-point-in-a-Binary-Heap-data-structure.png](https://media.geeksforgeeks.org/wp-content/cdn-uploads/Leaf-starting-point-in-a-Binary-Heap-data-structure.png)

`PriorityQueue`ëŠ” heap ê¸°ë°˜ êµ¬í˜„ìœ¼ë¡œ, ê·¸ë¦¼ì²˜ëŸ¼ ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì— ì €ì¥í•˜ëŠ”ë°

í™ì€ BSTì²˜ëŸ¼ **ì¢Œìš°ê°„ ëŒ€ì†Œê´€ê³„ ë³´ì¥ì„ ëª»í•˜ê¸°ì—** `remove`ê°€ $O(n)$ì´ë‹¤.

ì´ëŠ” dequeueê°€ $O(log\,n)$ì´ì–´ë„ ë…¸ë“œ íƒìƒ‰ì— ì„ í˜•ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì´ë‹¤.

<br />

![ì›ë³¸ì´ëª»ìƒê²¨ì„œgptí•œí…Œë‹¤ì‹œê·¸ë¦¬ë¼ì‹œì¼°ëŠ”ë°ê±”ë„ëª»ê·¸ë¦¬ê¸¸ë˜ë‹µë‹µmaxì°ì–´ì„œë‚´ê°€ê·¸ë¦¼](https://velog.velcdn.com/images/qriosity/post/774b0bb4-3312-41ec-89bb-00e17736a768/image.png)

**heapì€ ìƒí•˜ê´€ê³„, BSTëŠ” ì¢Œìš°ê´€ê³„ë¥¼ ë³´ì¥**í•˜ëŠ”ë°

ì´ëŸ¬í•œ íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ heapì€ ìµœì†Œ/ìµœëŒ€ê°’ êµ¬í•˜ëŠ”ë° ì£¼ë¡œ ì“°ì´ê³ , BSTëŠ” ì´ë¦„ë„ ê·¸ë ‡ë“¯ì´ íƒìƒ‰ì´ ë¹ˆë²ˆí• ë•Œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.

<br />

ë”°ë¼ì„œ `remained` ë°°ì—´ì„ ì»¬ë ‰ì…˜ìœ¼ë¡œ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤ë©´ `PriorityQueue`ê°€ ì•„ë‹Œ `TreeMap`ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

`TreeMap`ì€ **RBTë¡œ êµ¬í˜„ë˜ì—ˆê¸° ë•Œë¬¸ì— balanced BST**ì´ë©°, ìë™ìœ¼ë¡œ ì •ë ¬í•´ì¤€ë‹¤.

```java title="ë³€ê²½ ì „"
for (int k = t[j-1]-'a'-1; -1 < k; --k) {
    if (0 < remained[k]) {
        smallest = false; // ë” ì‘ì€ ê°’ ë°œê²¬
        break;
    }
}
```

```java title="ë³€ê²½ í›„"
if (remainedMap.lowerKey(t[j-1]) != null) smallest = false;
```

ìƒë‹¨ê³¼ ê°™ì´ `smallest` íŒë‹¨ì— ìˆì–´ $O(26)$ì˜ forë¬¸ ìˆœíšŒë¥¼ $O(log\,26)$ì˜ `lowerKey`ë¡œ ê°œì„ í•´ë³¼ ìˆ˜ ìˆë‹¤.

í•˜ë‹¨ì€ ì „ì²´ ì½”ë“œì´ë©° ìˆ˜í–‰ì‹œê°„ì€ **233ms**ì´ë‹¤. (ë³€ê²½ëœ ë¶€ë¶„ì€ í‘œì‹œí•´ë†“ìŒ!)

```java title="TreeMap ë²„ì „"
import java.util.*;

class Solution {
    public String robotWithString(String s) {
        // ì²« ê¸€ìë¥¼ ë¯¸ë¦¬ të¡œ init
        final int n = s.length();

        // âœ… TreeMap ë³€ê²½: remained ë°°ì—´ ëŒ€ì‹  TreeMap ì‚¬ìš©
        TreeMap<Character, Integer> remainedMap = new TreeMap<>(); // âœ… TreeMap ë³€ê²½
        char[] sArr = s.toCharArray();
        for (char ch : sArr) remainedMap.merge(ch, 1, Integer::sum); // âœ… TreeMap ë³€ê²½

        char[] t = new char[n];
        t[0] = sArr[0];
        remainedMap.merge(sArr[0], -1, Integer::sum); // âœ… TreeMap ë³€ê²½
        if (remainedMap.get(sArr[0]) == 0) remainedMap.remove(sArr[0]);

        int i = 1;
        int j = 1;
        StringBuilder sb = new StringBuilder();
        while (sb.length() < n) {
            if (j < 1) {
                t[j++] = sArr[i];
                // âœ… TreeMap ë³€ê²½
                remainedMap.merge(sArr[i], -1, Integer::sum);
                if (remainedMap.get(sArr[i]) == 0) remainedMap.remove(sArr[i]);
                ++i;
            }
            else if (i == n) {
                //System.out.println("i==n: " + t[j-1]);
                sb.append(t[--j]);
            }
            else if (t[j-1] <= sArr[i]) { // ì‘ê±°ë‚˜ ê°™ìŒ -> ì¶œë ¥? ë³´ë¥˜?
                boolean smallest = true;
                if (remainedMap.lowerKey(t[j-1]) != null) smallest = false; // âœ… TreeMap ë³€ê²½

                //System.out.println("smallest: " + smallest + " " + t[j-1] + " " + sArr[i]);
                if (smallest)
                    sb.append(t[--j]); // ì¶œë ¥: ì§€ê¸ˆêº¼ê°€ ìµœì„ 
                else {
                    t[j++] = sArr[i]; // ë³´ë¥˜: ë¯¸ë˜ì— ë” ì‘ì€ ê°’ ì¡´ì¬
                    // âœ… TreeMap ë³€ê²½
                    remainedMap.merge(sArr[i], -1, Integer::sum);
                    if (remainedMap.get(sArr[i]) == 0) remainedMap.remove(sArr[i]);
                    ++i;
                }
            }
            else {
                t[j++] = sArr[i]; // ë³´ë¥˜: ì¶œë ¥ í›„ë³´ t[j]ë³´ë‹¤ sArr[i]ê°€ ë” ì‘ìŒ
                // âœ… TreeMap ë³€ê²½
                remainedMap.merge(sArr[i], -1, Integer::sum);
                if (remainedMap.get(sArr[i]) == 0) remainedMap.remove(sArr[i]);
                ++i;
            }
        }

        return sb.toString();
    }
}
```

<br />

### ë©”ëª¨

- ë³µìŠµ ì¶”ì²œì¶”ì²œ ğŸ‘
- ì‹¤ì „ì—ì„œ IOOB ì‹¤ìˆ˜ë¥¼ ìµœì†Œí™”í•˜ë ¤ë©´ të¥¼ `Deque`ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ ì•Šì„ê¹Œ