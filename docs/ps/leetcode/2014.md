---
title: '2014 - Longest Subsequence Repeated k Times'
eng_title: '2014 - Longest Subsequence Repeated k Times'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '2014 - Longest Subsequence Repeated k Times'
sidebar_position: 2014
created_date: 2025-06-27
---

# 2014 - Longest Subsequence Repeated k Times

:::info

- **ë¬¸ì œ ë³´ê¸°**: [2014 - Longest Subsequence Repeated k Times](https://leetcode.com/problems/longest-subsequence-repeated-k-times)
- **ì†Œìš” ì‹œê°„**: 25ë¶„ 25ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 3ï¸âƒ£~4ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ì™„ì „íƒìƒ‰` `bfs`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 45420 KB
- **ì‹œê°„**: 535 ms

:::

```java
class Solution {
    String s;
    int k;

    boolean hasK(String ss) { // ss: subsequence
        int i = 0; // index of ss
        int cnt = 0; // count of ss appearance in s
        char[] ssArr = ss.toCharArray();
        for (char ch : s.toCharArray()) {
            if (ch == ssArr[i]) {
                ++i;
                if (i >= ssArr.length) {
                    i = 0;
                    ++cnt;
                    if (cnt == k) return true;
                }
            }
        }

        return false;
    }

    public String longestSubsequenceRepeatedK(String s, int k) {
        this.s = s;
        this.k = k;

        String ans = "";
        Deque<String> dq = new ArrayDeque<>();
        dq.add("");
        while (!dq.isEmpty()) {
            String cand = dq.poll();
            for (char ch = 'a'; ch <= 'z'; ++ch) {
                String nCand = cand + ch;
                if (hasK(nCand)) {
                    ans = nCand;
                    dq.add(nCand);
                }
            }
        }

        return ans;
    }
}
```

<br />

### í’€ì´ í•´ì„¤

ë¬¸ìì—´ `s`ì—ì„œ `k`ë²ˆ ë“±ì¥í•˜ëŠ” subsequenceë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤. (substring ì•„ë‹˜)

ê²½ìš°ì˜ ìˆ˜ê°€ ìƒë‹¹íˆ ìš°ë ¤ë˜ì§€ë§Œ ë¬¸ì œì˜ ì œì•½ ì¡°ê±´ì´ ì•„ì£¼ ì ˆë¬˜í•˜ê²Œ ì„¤ì •ë˜ì–´ ìˆì–´ì„œ,

bfsë¡œ ì™„íƒì„ ëŒë ¤ë„ TLEê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤(!)

bfsë¡œ level-by-level traversalì„ ìˆ˜í–‰í•˜ë©´ ë˜ëŠ”ë°, ë‹¤ë§Œ ì‹œê°„ë³µì¡ë„ ê³„ì‚° ë©´ì—ì„œ ì¢€ ë¶€ì¡°ë¦¬í•œ ëŠë‚Œì´ ìˆë‹¤.
<br />

#### âœï¸ ë¬¸ì œ êµ¬ì¡°í™”í•˜ê¸°

ë°œìƒì„ ì´ëŸ°ì‹ìœ¼ë¡œ ê°€ì•¼ í•œë‹¤.

1. subsequence ë¬¸ìì—´ `ss`ì˜ ë“±ì¥ ë¹ˆë„ê°€ `k`ì¸ì§€ ê³„ì‚°í•˜ëŠ” ë¡œì§ êµ¬ìƒ
2. `ss`ë¥¼ êµ¬ì„±í•˜ëŠ” ë¡œì§ êµ¬ìƒ

1ë²ˆì€ í’€ì´ì—ì„œì˜ `hasK` í•¨ìˆ˜ ë¡œì§ì— í•´ë‹¹í•˜ê³ , ë¹„êµì  ë°œìƒí•˜ê¸° ì‰½ë‹¤.

ê·¸ëŸ¬ë‚˜ 2ë²ˆì—ì„œ ì´ë¦¬ì €ë¦¬ ìµœì í™” ê¸°ë²•ì„ ìƒê°í•˜ë‹¤ë³´ë©´ ê½¤ë‚˜ ì‹œê°„ì´ íë¥´ê²Œ ëœë‹¤.

ê·¸ ì´ìœ ëŠ” ì •ë‹µì´ ìµœëŒ€ ê¸¸ì´ì˜, lex-largest í•´ì•¼ í•œë‹¤ëŠ” ì¡°ê±´ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

```text title="ì´ë ‡ê²Œ ìˆœíšŒí• ê¹Œ?"
for: z -> a ìˆœìœ¼ë¡œ ìˆœíšŒ
    for: ìµœëŒ€ê¸¸ì´ ~ ìµœì†Œê¸¸ì´ ìˆœìœ¼ë¡œ ìˆœíšŒ
```

ë§¨ ì²˜ìŒì—” ìƒë‹¨ì˜ ë°©ì‹ìœ¼ë¡œ ìˆœíšŒí•˜ëŠ” ê²ƒì„ ê³ ë¯¼í•´ë³´ì•˜ëŠ”ë°, ì˜ë¯¸ê°€ ì—†ë‹¤.

zì¼ë•Œ ê¸¸ì´ xì¸ í›„ë³´ë¥¼ ì°¾ì•˜ëŠ”ë°, ê·¸ ë‹¤ìŒ ìˆœíšŒì¸ yì—ì„œ x+1 ê¸¸ì´ì˜ í›„ë³´ë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

```text title="ê·¸ëŸ¼ ìš”ê±°ëŠ”?"
for: ìµœëŒ€ê¸¸ì´ ~ ìµœì†Œê¸¸ì´ ìˆœìœ¼ë¡œ ìˆœíšŒ
    for: z -> a ìˆœìœ¼ë¡œ ìˆœíšŒ
```

*ì•„ ê·¸ëŸ¼ ì´ë ‡ê²Œ í•˜ë©´ ë˜ê² ë„¤!* ì‹¶ì–´ ë‘ë²ˆì§¸ ë°œìƒìœ¼ë¡œ ì‹œë„í•´ë³´ì§€ë§Œ, ì½”ë“œ ì§œë³´ë©´ z -> a ìˆœíšŒ ë¶€ë¶„ì—ì„œ ë§‰íŒë‹¤.

zë¡œ ì‹œì‘í•˜ëŠ” ìµœëŒ€ ê¸¸ì´ ë¬¸ìì—´ë¡œ inití•´ì•¼ í•˜ê³ , ìˆœíšŒí•˜ë©´ì„œ í•˜ë‚˜ì”© ì˜ë¼ ë‹¤ë¥¸ ë¬¸ì ë¶™ì—¬ì•¼ í•˜ê³ ... ì´ê²Œ ë§ë‚˜ ì‹¶ì–´ì§„ë‹¤.

ê·¸ë˜ì„œ ê²°êµ­ì—” ì™„íƒìœ¼ë¡œ íšŒã…‹ê·€ã…‹... í•˜ê²Œ ë˜ëŠ”ë°

ì—¬ê¸°ì„œ **ì‹œê°„ë³µì¡ë„**ê°€ ê±±ì •ë˜ê¸° ì‹œì‘í•œë‹¤.

<br />

#### ğŸ•—ï¸ ì™„íƒì˜ ì‹œê°„ë³µì¡ë„ëŠ”?

ì‚¬ì‹¤ `ss`ì˜ ê¸¸ì´ë¥¼ lenì´ë¼ê³  í•  ë•Œ, ì‹œê°„ë³µì¡ë„ëŠ” `hasK` ì œì™¸ ì™„íƒë§Œ ë”°ì§€ìë©´ $O(26^{len})$ì´ë‹¤.

ì´ì œ ì—¬ê¸°ì„œ `hasK` ë¡œì§ê¹Œì§€ ë“¤ì–´ê°€ë©´ $O(26^{len} \times n)$ ì¸ë° ìŠ¬ìŠ¬ TLEì´ ê°ì´ ì„œê¸° ì‹œì‘í•œë‹¤.

í•˜ì§€ë§Œ ì§€ë¬¸ì—ì„œ `n < k * 8` ì´ë¼ëŠ” ì¡°ê±´ì„ ë³´ì.

ì´ëŠ” `len * k <= n` ì´ë¼ëŠ” ë˜ë‹¤ë¥¸ ì¡°ê±´ì„ ìƒê°í•´ ë³¼ ë•Œ, `len * k <= n < k * 8` ë¡œ ì—°ë¦½í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ

ëª¨ë“  í•­ì— `k`ë¥¼ ë‚˜ëˆ ì„œ (k > 0 ì´ë¯€ë¡œ ê°€ëŠ¥)

`len <= n / k < 8` ì´ë¼ëŠ” ìˆ˜ì‹ìœ¼ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì¦‰, subsequence ê¸¸ì´(len)ëŠ” `n`ê³¼ `k`ë¥¼ ì–´ë–»ê²Œ ì§€ì§€ê³ ë³¶ë“  ìµœëŒ€ 7ì„ì„ ì•Œ ìˆ˜ ìˆê³ 

ë”°ë¼ì„œ `hasK` ì œì™¸ ì‹œê°„ë³µì¡ë„ëŠ” $O(26^7) \approx$ 80ì–µì¸ë° ì—¬ê¸°ì„œ ë˜ ì–´? ì‹¶ì§€ë§Œ

`hasK`ë¥¼ í†µí•œ ê°€ì§€ì¹˜ê¸°ê°€ ì´ë£¨ì–´ì§€ê¸°ì— pruning ë•ë¶„ì— ì—„ì²­ë‚˜ê²Œ ê²½ìš°ì˜ ìˆ˜ê°€ ì¤„ì–´ë“¤ì–´ì„œ ì‹œê°„ ë‚´ í†µê³¼í•˜ê²Œ ëœë‹¤.

íŠ¹íˆ, a~z ì „ì²´ ë§ê³  ê° ë¬¸ìë³„ ì¹´ìš´íŒ…í•´ì„œ k ì´ìƒì¸ ê²ƒë“¤ë§Œ ì¶”ë¦¬ë©´ íƒìƒ‰ ë²”ìœ„ëŠ” ë”ë”ìš± ì¤„ì–´ë“¤ê²Œ ëœë‹¤.


**ğŸ˜® ê²°ë¡ : ê³„ì‚°ì ìœ¼ë¡œ ì•Œê¸° ì–´ë µê¸°ì— ê°ìœ¼ë¡œ ì•Œì•„ì•¼ í•¨**

<br />

### ë©”ëª¨

- ì‹œê°„ë³µì¡ë„ ê³„ì‚°ë•Œë¬¸ì— hard ì¸ë“¯?
- subsequenceë¥¼ êµ¬ì„±í•  ë¬¸ìë¥¼ ì¶”ë ¤ë†“ìœ¼ë©´ ìµœì†Œ ì ˆë°˜ ì´ìƒì˜ ìˆ˜í–‰ì‹œê°„ì´ ë‹¨ì¶•ë˜ëŠ”ë“¯ í•˜ë‹¤.