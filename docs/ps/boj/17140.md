---
title: '17140 - ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°'
eng_title: '17140 - ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '17140 - ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°'
sidebar_position: 17140
created_date: 2024-11-19
---

# 17140 - ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°

:::info

- **ë¬¸ì œ ë³´ê¸°**: [17140 - ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°](https://www.acmicpc.net/problem/17140)
- **ì†Œìš” ì‹œê°„**: ğŸ’¥**1ì‹œê°„ ì´ˆê³¼**
- **í’€ì´ ì–¸ì–´**: `python`
- **ì²´ê° ë‚œì´ë„**: 4ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`êµ¬í˜„`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 34228 KB
- **ì‹œê°„**: 68 ms

:::

```python
import sys
from collections import Counter
input = sys.stdin.readline

def calc(matrix): # Rì—°ì‚°
    mx = 0
    for i in range(len(matrix)):
        res = sorted(Counter(matrix[i]).most_common(), key=lambda x:(x[1], x[0]))
        tmp = []
        for v, cnt in res:
            if v == 0: continue
            tmp.append(v)
            tmp.append(cnt)
        matrix[i] = tmp
        mx = max(mx, len(tmp))
    
    # zero padding
    for i in range(len(matrix)):
        if len(matrix[i]) < mx:
            matrix[i].extend([0] * (mx-len(matrix[i])))
    
    return matrix

def solution():
    r, c, k = map(int, input().split())
    r, c = r - 1, c - 1
    A = [0] * 3
    for i in range(3):
        A[i] = list(map(int,input().split()))
    
    for t in range(101):
        rlen = len(A)
        clen = len(A[0])
        if r < rlen and c < clen and A[r][c] == k:
            print(t)
            return
        if rlen >= clen: # Rì—°ì‚°
            A = calc(A)
        else: # Cì—°ì‚°
            A = calc(list(zip(*A)))
            A = list(zip(*A))
            
    print(-1)


if __name__ == '__main__':
    solution()
```

<br />

### í’€ì´ í•´ì„¤

ì´ ë¬¸ì œì˜ í•µì‹¬ ë¡œì§ì€ Rì—°ì‚°(í–‰ì—°ì‚°)ê³¼ Cì—°ì‚°(ì—´ì—°ì‚°)ì´ë‹¤.

#### ë‹¨,

Rì—°ì‚°ì€ ê·¸ëŸ¬ëŸ¬ë‹ˆ í•˜ëŠ”ë° Cì—°ì‚°ì€ ê·¸ëŒ€ë¡œ êµ¬í˜„í•˜ê¸°ì— ì–´ë”˜ê°€ ë‚œì¡í•˜ë‹¤.

ë”°ë¼ì„œ Cì—°ì‚°ì„ **ì „ì¹˜í–‰ë ¬ì˜ Rì—°ì‚°**ìœ¼ë¡œ ì¹˜í™˜í•˜ì—¬ ë°œìƒí•˜ëŠ” ê²ƒì´ í’€ì´ì˜ í•µì‹¬ì´ë‹¤.

```python
if r < rlen and c < clen and A[r][c] == k:
    print(t)
    return
if rlen >= clen: # Rì—°ì‚°
    A = calc(A)
else: # Cì—°ì‚°
    A = calc(list(zip(*A)))
    A = list(zip(*A))
```

#### ğŸ“Œ`r < rlen`ê³¼ `c < clen` ì¡°ê±´ì„ ì²´í¬í•˜ëŠ” ì´ìœ 

R, Cì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´ì„œ Aì˜ í¬ê¸°ê°€ ë³€ë™ë˜ê³ <br />
ì´ ê³¼ì •ì—ì„œ `r`ê³¼ `c`ê°€ invalidí•œ indexê°€ ë  ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤. (ì´ ê²½ìš° ê²°ê³¼ëŠ” -1)

#### ğŸ“Œì „ì¹˜í–‰ë ¬ ë§Œë“¤ê¸°

íŒŒì´ì¬ì—ì„  `zip`ì„ ì´ìš©í•˜ì—¬ ì‰½ê²Œ í–‰ë ¬ì„ transposeí•  ìˆ˜ ìˆë‹¤.<br />
list ê°„ element-wise í•˜ê²Œ ë¬¶ì–´ì£¼ê¸° ë•Œë¬¸ì— `*(unpacking operator)`ë¥¼ ì´ìš©í•œ íŠ¸ë¦­ì´ ê°€ëŠ¥í•˜ë‹¤.

```python
a = [[1,2,3], [4,5,6], [7,8,9]]
print(*a)
print(list(zip(*a)))
```
```text title="ê²°ê³¼"
[1, 2, 3] [4, 5, 6] [7, 8, 9]
[(1, 4, 7), (2, 5, 8), (3, 6, 9)]
````

#### ğŸ“Œê¹”ì‚¼í•˜ê²Œ ì—°ì‚°í•˜ê¸°
`Counter`ì™€ lambda í•¨ìˆ˜ë¥¼ í†µí•´ one-lineìœ¼ë¡œ í‰ì¹  ìˆ˜ ìˆë‹¤.

```python
def calc(matrix): # Rì—°ì‚°
    mx = 0
    for i in range(len(matrix)):
        res = sorted(Counter(matrix[i]).most_common(), key=lambda x:(x[1], x[0]))
```

Counter ê²°ê³¼ë¥¼ ì„¸ë¶€ì ìœ¼ë¡œ ì‚´í´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```python
from collections import Counter
a = [3, 1, 1, 1, 2, 2]
print(Counter(a))
print(Counter(a).most_common())
```
```text title="ê²°ê³¼"
Counter({1: 3, 2: 2, 3: 1})
[(1, 3), (2, 2), (3, 1)]
```

<br />

:::caution

#### WA! ëë‚´ì£¼ëŠ” ë‚šì‹œ!

:::

ë¬¸ì œì˜ ì²« ë¬¸ì¥ì„ ì½ì–´ë³´ì.

> *í¬ê¸°ê°€ 3Ã—3ì¸ ë°°ì—´ Aê°€ ìˆë‹¤. ë°°ì—´ì˜ ì¸ë±ìŠ¤ëŠ” **1ë¶€í„° ì‹œì‘**í•œë‹¤. **1ì´ˆê°€ ì§€ë‚ ë•Œë§ˆë‹¤** ë°°ì—´ì— ì—°ì‚°ì´ ì ìš©ëœë‹¤.*

ê·¸ëŸ¬í•˜ë‹¤.

1. ì¸ë±ìŠ¤ë¥¼ 1ë¶€í„° ì‹œì‘í•œë‹¤ê³  ê°€ì •í•˜ë¯€ë¡œ ì‹¤ì œ ì¸ë±ìŠ¤ ì ‘ê·¼ì€ `r-1`, `c-1`ì´ ëœë‹¤.

2. '1ì´ˆê°€ ì§€ë‚ ë•Œë§ˆë‹¤' ì´ë¯€ë¡œ ë°˜ë³µë¬¸ì„ 100ê¹Œì§€ ìˆœíšŒí•´ì•¼ í•œë‹¤. ë°˜ë³µ ìì²´ê°€ 100ë²ˆ ëŒì•„ê°€ëŠ”ê²ƒê³¼ ë¬´ê´€í•˜ë‹¤. 0~1ë¡œ ì˜¬ë¼ê°ˆë•Œì˜ ì—°ì‚°ì€ 1ì´ˆê°€ ì§€ë‚  ë•Œì˜ ì—°ì‚°, 99~100ìœ¼ë¡œ ì˜¬ë¼ê°ˆë•Œì˜ ì—°ì‚°ì€ 100ì´ˆê°€ ì§€ë‚  ë•Œì˜ ì—°ì‚°ì´ ëœë‹¤.

<br />

### ë©”ëª¨

- ìœ ìµí•´ìš”...