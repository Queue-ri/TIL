---
title: '1092 - 배'
eng_title: '1092 - 배'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '1092 - 배'
sidebar_position: 1092
created_date: 2024-11-04
---

# 1092 - 배

:::info

- **문제 보기**: [1092 - 배](https://www.acmicpc.net/problem/1092)
- **소요 시간**: 💥**1시간 초과**
- **풀이 언어**: `python`
- **체감 난이도**: 4️⃣
- **리뷰 횟수**: ✅

:::

<br />

### 풀이 키워드

<details>
<summary>스포주의</summary>

`그리디`

<marquee behavior="alternate" style={{fontSize:'50pt'}} scrollamount="80"><b><i>I HATE GREEDY</i></b></marquee>

</details>

<br />

### 풀이 코드

:::info

- **메모리**: 32140 KB
- **시간**: 4608 ms

:::

```python
import sys
input = sys.stdin.readline

# 크레인과 박스를 내림차순 정렬하고
# batch(=크레인 개수) 단위로 큰 박스부터 처리

def solution():
    n = int(input())
    crane = list(map(int, input().split()))
    m = int(input())
    box = list(map(int, input().split()))
    
    crane.sort(reverse=True)
    box.sort(reverse=True)
    
    # corner case
    if crane[0] < box[0]:
        print(-1)
        return
    
    ans = 0
    remained = m
    done = [False] * m
    while remained > 0:
        last_cdx = 0
        for bdx in range(m):
            if last_cdx > n-1:
                break
            
            if not done[bdx]:
                # check crane availability
                if box[bdx] <= crane[last_cdx]:
                    done[bdx] = True
                    last_cdx += 1
                    remained -= 1
        
        ans += 1
    
    print(ans)
    
    
if __name__ == '__main__':
    solution()
```

<br />

### 풀이 해설

<details>
    <summary>WA 코드</summary>

```python
import sys
from collections import deque
input = sys.stdin.readline

def solution():
    n = int(input())
    crane = list(map(int, input().split()))
    m = int(input())
    box = list(map(int, input().split()))
    
    crane.sort(reverse=True)
    box.sort(reverse=True)
    
    # corner case
    if crane[0] < box[0]:
        print(-1)
        return
    
    q = deque(box) # remained boxes
    ans = 0
    
    while q:
        #print(q)
        sz = len(q)
        last_cdx = 0
        for _ in range(sz):
            if last_cdx > n-1:
                break
            
            b = q.popleft()
            if b <= crane[last_cdx]:
                last_cdx += 1
            else:
                q.append(b)
        
        ans += 1
    
    print(ans)
    
    
if __name__ == '__main__':
    solution()
```

</details>

55분 쯤에 WA를 받아서 반례를 찾아보니 다음의 case가 있었다.

```markdown
# 입력
4
1 2 3 4
8
1 1 2 2 3 3 4 4
    
# 정답
2
```

이게 3이 나와서 디버깅하니<br />
당장 못옮기는 박스를 큐에 다시 넣으면서 큐 정렬이 깨지는 것이 원인이었다.

--> 그래서 `heapq`로 매 순회마다 내림차순 유지시키려고 했는데 TLE가 떴다.<br />
--> 그래서2 `done`으로 플래그 틀어막고 무한 순회하는 방식으로 수정했다.<br />
--> 통과했는데....음.........4608ms........🙄

<br />

#### 요건 어떻게 40ms??
> [소스 보기](https://www.acmicpc.net/source/85920493)

<br />

### 메모

- `while` 내부의 `for`문 순회를 박스 기준으로 할 지 아니면 크레인 기준으로 할 지 약간 헷갈렸다.