---
title: '1941 - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼'
eng_title: '1941 - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '1941 - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼'
sidebar_position: 1941
created_date: 2025-05-06
updated_date: 2025-05-06
---

# 1941 - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼


:::info

- **ë¬¸ì œ ë³´ê¸°**: [1941 - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼](https://www.acmicpc.net/problem/1941)
- **ì†Œìš” ì‹œê°„**: 54ë¶„ 58ì´ˆ
- **í’€ì´ ì–¸ì–´**: `java`
- **ì²´ê° ë‚œì´ë„**: 3ï¸âƒ£~4ï¸âƒ£ (3.3)
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`dfs` `bfs`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 103044 KB
- **ì‹œê°„**: 560 ms

:::

```java
import java.io.*;
import java.util.*;

public class Main
{
    static int[][] table = new int[5][5];
    static boolean[] visited = new boolean[25];
    static int[] selected = new int[7];
    static int[] dy = {-1, 0, 0, 1};
    static int[] dx = {0, -1, 1, 0};
    
    public static int dfs(int idx, int depth) {
        if (depth == 7) return bfs() ? 1 : 0;
        
        int res = 0;
        for (int i = idx+1; i < 25; ++i) {
            if (!visited[i]) {
                visited[i] = true;
                selected[depth] = i;
                res += dfs(i, depth+1);
                selected[depth] = -1;
                visited[i] = false;
            }
        }
        
        return res;
    }
    
    public static boolean bfs() {
        Deque<int[]> q = new ArrayDeque<>();
        boolean[] joined = new boolean[7]; // visited for 'selected'
        
        int yimCnt = 0;
        int somCnt = 0;
        
        int y = selected[0] / 5;
        int x = selected[0] % 5;
        q.add(new int[]{y, x});
        joined[0] = true;
        if (table[y][x] == 0) ++yimCnt; else ++somCnt;
        
        while (!q.isEmpty()) {
            int[] pos = q.pop();
            for (int d = 0; d < 4; ++d) {
                int ny = pos[0] + dy[d];
                int nx = pos[1] + dx[d];
                
                if (ny < 0 || 4 < ny || nx < 0 || 4 < nx) continue; // out of bound
                
                int sdx = 0; // find index of adj value in selected: 0ìœ¼ë¡œ ë‘ë©´ ì–´ì°¨í”¼ ë°‘ì—ì„œ continue ì²˜ë¦¬ë¨
                for (int s = 0; s < 7; ++s)
                    if (selected[s] == ny*5+nx) sdx = s;
                    
                if (joined[sdx]) continue; // target value has already joined
                joined[sdx] = true; // else join
                
                q.add(new int[]{ny, nx});
                
                if (table[ny][nx] == 0) ++yimCnt; else ++somCnt;
                if (3 < yimCnt) return false; // ìƒì¡´ ë¶ˆê°€
            }
        }
        
        return (yimCnt + somCnt == 7) ? true : false;
    }
    
	public static void main (String[] args) throws IOException {
	    input();
	    
	    int ans = 0;
	    for (int i = 0; i < 19; ++i) { // 0 ~ 25-7+1
	        visited[i] = true;
	        selected[0] = i;
	        ans += dfs(i, 1);
	        selected[0] = -1;
	        visited[i] = false;
	    }
	    
	    System.out.println(ans);
	}
	
	public static void input() throws IOException {
	    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
	    
	    for (int i = 0; i < 5; ++i) {
	        char[] line = br.readLine().toCharArray();
	        for (int j = 0; j < 5; ++j) {
	            table[i][j] = line[j] == 'S' ? 1 : 0;
	        }
	    }
	}
}
```

### í’€ì´ í•´ì„¤

ë¡œì§ì€ í¬ê²Œ 3ë‹¨ê³„ë¥¼ ê±°ì¹œë‹¤.

---

1. 5*5 = 25ì¹¸ ì¤‘ì— ì¤‘ë³µ ì—†ì´, ìˆœì„œ ê³ ë ¤í•˜ì§€ ì•Šê³  7ì¹¸ì„ ë½‘ëŠ”ë‹¤. ì¦‰ $_{25}C_{7}$.
2. ë½‘íŒ 7ì¹¸ì˜ êµ¬ì„±ì´ ì¡°ê±´ì— ë§ëŠ”ì§€ íŒë‹¨í•˜ê³ , ë§ìœ¼ë©´ ì¹´ìš´íŒ…í•œë‹¤.
3. ì¹´ìš´íŒ… ì´í•©ì„ ì¶œë ¥í•œë‹¤.

---

ì—¬ê¸°ì„œ 1ë²ˆì€ dfs, 2ë²ˆì€ bfsë¥¼ ì‚¬ìš©í–ˆë‹¤.

<br />

#### ğŸ“Œ ì¡°ê±´ì— ë§ëŠ” êµ¬ì„±ì¸ì§€ ê²€ì‚¬

ì¡°ê±´ì€ ë‹¤ìŒì˜ 2ê°€ì§€ë¥¼ ë§Œì¡±í•´ì•¼ í•œë‹¤.

1. ì„ë„ì—°íŒŒì˜ ìˆ˜ê°€ 4ëª… ì´ìƒì´ë©´ ì•ˆëœë‹¤.
2. ëª¨ë“  êµ¬ì„±ì›ë“¤ì´ ì¸ì ‘í•˜ê²Œ ì—°ê²°ë˜ì–´ì•¼ í•œë‹¤. ì¸ì ‘ì˜ ì •ì˜ëŠ” 4ë°©í–¥ ê¸°ì¤€ì´ë‹¤.

<br />

```java
boolean[] joined = new boolean[7]; // visited for 'selected'
int yimCnt = 0;
int somCnt = 0;
```

ë”°ë¼ì„œ ì´ ëª¨ë“  ì¡°ê±´ì„ ì¹´ìš´í„° ë³€ìˆ˜ 2ê°œë¡œ íŒë‹¨í–ˆë‹¤.

bfsë¥¼ ëŒë¦¬ë‹¤ê°€ ì„ë„ì—°íŒŒì˜ ì¹´ìš´í„° ìˆ˜ê°€ 4 ì´ìƒì´ ë˜ëŠ” ìˆœê°„ì—” `return false`ë¡œ ì»·í•´ë²„ë¦¬ë©´ ë˜ê³ ,

1ë²ˆ ì¡°ê±´ì€ ë§Œì¡±í–ˆì§€ë§Œ ì¸ì ‘í•˜ì§€ ì•Šì€ ì¹¸ì´ ìˆì–´ bfsë¥¼ ëê¹Œì§€ ìˆ˜í–‰í–ˆìŒì—ë„ ëª¨ë“  ì¹¸ì„ ë°©ë¬¸í•˜ì§€ ëª»í•œ ê²½ìš°ê°€ ìˆê¸°ì—

ì´ë¥¼ ê³ ë ¤í•˜ì—¬ ì´ë‹¤ì†œíŒŒë„ ê°™ì´ ì¹´ìš´íŠ¸í•˜ê³ , bfs ì¢…ë£Œì‹œ ë‘ ì¹´ìš´í„° í•©ì´ 7ì´ ë˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•œë‹¤.

`joined`ê°€ `selected`ì˜ bfs ë°©ë¬¸ ì—¬ë¶€ ì²´í¬í•˜ëŠ” ì¼ì¢…ì˜ visited ë°°ì—´ì´ì–´ì„œ, ì´ê±¸ ìŠ¤ìº”í•´ì„œ íŒë‹¨í•´ë„ ë˜ì§€ë§Œ ì¢€ ë©‹ì´ ë–¨ì–´ì§„ë‹¤(?)

<br />

### ë©”ëª¨

- ì²˜ìŒì— 7ê°œë¥¼ ì–´ë–»ê²Œ ì„ íƒí• ì§€ì— ëŒ€í•œ ë°œìƒë§Œ ì¢€ ê³ ë¯¼ìŠ¤ëŸ½ê³ , êµ¬í˜„ì€ ë§¤ìš° ìˆ˜ì›”í–ˆìŒ