---
title: '1715 - ì¹´ë“œ ì •ë ¬í•˜ê¸°'
eng_title: '1715 - ì¹´ë“œ ì •ë ¬í•˜ê¸°'
image: https://til.qriosity.dev/img/m_banner_background.jpg
sidebar_label: '1715 - ì¹´ë“œ ì •ë ¬í•˜ê¸°'
sidebar_position: 1715
created_date: 2024-12-10
updated_date: 2024-12-10
---

# 1715 - ì¹´ë“œ ì •ë ¬í•˜ê¸°

:::info

- **ë¬¸ì œ ë³´ê¸°**: [1715 - ì¹´ë“œ ì •ë ¬í•˜ê¸°](https://www.acmicpc.net/problem/1715)
- **ì†Œìš” ì‹œê°„**: 17ë¶„
- **í’€ì´ ì–¸ì–´**: `python`
- **ì²´ê° ë‚œì´ë„**: 2ï¸âƒ£
- **ë¦¬ë·° íšŸìˆ˜**: âœ…

:::

<br />

### í’€ì´ í‚¤ì›Œë“œ

<details>
<summary>ìŠ¤í¬ì£¼ì˜</summary>

`ìë£Œêµ¬ì¡°` `í™`

</details>

<br />

### í’€ì´ ì½”ë“œ

:::info

- **ë©”ëª¨ë¦¬**: 36292 KB
- **ì‹œê°„**: 124 ms

:::

```python
import sys
import heapq
input = sys.stdin.readline

n = 0
heap = []

def solution():
    global n, heap
    n = int(input())
    for i in range(n):
        heapq.heappush(heap, int(input()))
    
    ans = 0
    
    # edge case
    if n == 1:
        print(0) # no need to compare
        return
    
    # else
    while True:
        lhs = heapq.heappop(heap)
        try:
            rhs = heapq.heappop(heap)
        except:
            break
        
        # merge
        k = lhs + rhs
        heapq.heappush(heap, k)
        ans += k
        
    print(ans)
    

if __name__ == '__main__':
    solution()
```

<br />

### í’€ì´ í•´ì„¤

ì •ë ¬ë˜ì–´ìˆì§€ ì•Šì€ ë°ì´í„° ë¦¬ìŠ¤íŠ¸ë¥¼ ë§¤ ë²ˆ ìµœì†Œì˜ ë¹„ìš©ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ê²ƒì´ í•µì‹¬ì¸ ë¬¸ì œì´ë‹¤.

ë¹„êµ íšŸìˆ˜ ê³„ì‚°ì„ ëˆ„ì í•©ìœ¼ë¡œ í•˜ë˜, ìµœì†Œê°’ì´ ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ì‘ì€ ê°’ë¶€í„° í•©í•´ì•¼ í•˜ëŠ” ì ì´ pointì´ë‹¤.

í•˜ì§€ë§Œ í•œ ë²ˆ ê°’ì„ í•©ì¹˜ë©´ ë‚˜ë¨¸ì§€ ë°ì´í„° ë¦¬ìŠ¤íŠ¸ì—ì„œ ì´ í•©ì´ ëª‡ ë²ˆì§¸ í° ê°’ì¸ì§€ ì„ í˜•ì‹œê°„ì— ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ,

ì´ ê²½ìš°ì— ì–´ìš¸ë¦¬ëŠ” ìµœì„ ì˜ ìë£Œêµ¬ì¡°ë¡œ heapì„ ìƒê°í•´ë³¼ ìˆ˜ ìˆë‹¤.

<br />

#### ğŸ“ŒíŒŒì´ì¬ì˜ `heapq`

heap ì •ë ¬ì˜ ê²½ìš° ì¼ë°˜ì ìœ¼ë¡œ $O(logn)$ì´ë‹¤.

íŒŒì´ì¬ `heapq`ì˜ ê²½ìš° `heappush`ì™€ `heappop` ëª¨ë‘ $O(logn)$ì˜ ë¹„ìš©ì„ ê°€ì§€ê³  ìˆë‹¤.

<br />

#### ğŸ“ŒCorner case

$1 â‰¤ N â‰¤ 100{,}000$ ì´ë¯€ë¡œ `n`ì€ 1ì´ ë  ìˆ˜ë„ ìˆë‹¤.

ì´ ê²½ìš° ì‹œì‘ë¶€í„° ë¹„êµ íšŸìˆ˜ë¥¼ ê³„ì‚°í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ 0ì„ return í•œë‹¤.

```python
if n == 1:
    print(0) # no need to compare
    return
```

<br />

#### ğŸ“ŒTime complexity

```python
for i in range(n):
    heapq.heappush(heap, int(input()))
```
ì´ˆë°˜ì—ì„œ, <br />
heapì— ë°ì´í„°ë¥¼ ë„£ì–´ ì •ë ¬í•˜ëŠ” ë¶€ë¶„ì€ $O(logn)$ ë¹„ìš©ì´ ë“œëŠ” `heappush`ë¥¼ `n`ë²ˆ ìˆ˜í–‰í•˜ë¯€ë¡œ, $O(nlogn)$ì´ë‹¤.

```python {2,4,10}
while True:
    lhs = heapq.heappop(heap)
    try:
        rhs = heapq.heappop(heap)
    except:
        break
    
    # merge
    k = lhs + rhs
    heapq.heappush(heap, k)
    ans += k
```
ê·¸ í›„ ë¹„êµ íšŸìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” `while`ë¬¸ì—ì„œ, 2ë²ˆì˜ `heappop`ê³¼ 1ë²ˆì˜ `heappush`ê°€ ë§¤ iterationë§ˆë‹¤ ì¼ì–´ë‚˜ê³  ìˆë‹¤.

ë˜í•œ iterationì€ ì´ `n`ë§Œí¼ ë°œìƒí•˜ë¯€ë¡œ, ë³µì¡ë„ëŠ” $T(3nlogn) == O(nlogn)$ì´ë‹¤.

ë”°ë¼ì„œ í’€ì´ì½”ë“œì˜ ìµœì¢… ì‹œê°„ë³µì¡ë„ëŠ” $O(nlogn)$ì´ë‹¤.

<br />

### ë©”ëª¨

- heap ë‚´ë¶€ì˜ ì›ì†Œë¥¼ í•©ì¹˜ë‹¤ë³´ë©´ ë¬´ì¡°ê±´ì ìœ¼ë¡œ ê²°êµ­ì—” 1ê°œì˜ ì›ì†Œë§Œ ë‚¨ê²Œ ëœë‹¤. ì´ ê²½ìš° `rhs`ë¥¼ êµ¬í•˜ëŠ” statementì—ì„œ RTEê°€ í„°ì§€ê²Œ ëœë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ë¶€ë¶„ì„ `try-except` íŠ¸ë¦­ì„ í™œìš©í•˜ì—¬ ì²˜ë¦¬í•´ë³´ì•˜ë‹¤.

- `PriorityQueue` ëª¨ë“ˆë„ ìˆëŠ”ë°, ë™ê¸°í™”(Thread-safe) ê¸°ëŠ¥ ë•Œë¬¸ì— `heapq`ë³´ë‹¤ ëŠë¦¬ë‹¤ê³  í•œë‹¤.