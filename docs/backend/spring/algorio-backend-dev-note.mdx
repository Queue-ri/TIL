---
title: 'Algorio ë°±ì—”ë“œ ê°œë°œ ë…¸íŠ¸'
eng_title: 'Algorio backend dev note'
image: https://til.qriositylog.com/img/m_banner_background.jpg
created_date: 2022-06-04
updated_date: 2022-06-11
---

## ğŸ“… 22-03-24
### ğŸ“Œ Cannot resolve symbol ì—ëŸ¬ í•´ê²°

- ì˜ ëŒì•„ê°€ë‹¤ê°€ ì–´ëŠë‚  ê°‘ìê¸° ëª¨ë“  importì— ë¹¨ê°„ì¤„ ê·¸ì–´ì ¸ì„œ ë‹¹í™©
- Refresh Gradle Dependenciesë¡œ í•´ê²°
    - [ì•„ì£¼ ì¢‹ì€ ê¸€](https://ottl-seo.tistory.com/entry/IntelliJ-Cannot-resolve-symbol-%EC%97%90%EB%9F%AC-%ED%95%B4%EA%B2%B0)

## ğŸ“… 22-03-25
### ğŸ“Œ **ì  í‚¨ìŠ¤ ì„¤ì¹˜ ì‚½ì§ˆ ë**

- **ë§í¬:** [http://qriositylog.com:8081](http://qriositylog.com:8081)
- **ê¸°ë¡:** [https://til.qriositylog.com/featured/devops/jenkins/setting-jenkins-server-with-oracle-cloud](https://til.qriositylog.com/featured/devops/jenkins/setting-jenkins-server-with-oracle-cloud)

### ğŸ“Œ ì•Œê²Œëœ ê²ƒ

- í¬íŠ¸ê°€ ë°”ë€Œì§€ ì•Šì•˜ë˜ ì´ìœ ê°€ í¬íŠ¸ ì¶©ëŒì´ ì•„ë‹ˆë¼ conf ìˆ˜ì • í›„ `jenkins start` ëŒ€ì‹  `install jenkins`ë¥¼ ë˜ í•´ì„œ ë²„ê·¸ê°€ í„°ì¡Œë˜ ê²ƒ ê°™ìŒ
    - ì´ ê²½ìš° **ë¬´ì¡°ê±´ ì¬ì„¤ì¹˜** í•´ì•¼ í•¨. ë°±ë‚ ì²œë‚  `jenkins restart` í•´ë„ ë²„ê·¸ ì•ˆí’€ë¦¼
- GitHubì— ìˆëŠ” [jenkins App](https://github.com/apps/ci-jenkins-io)ì€ jenkins í”„ë¡œì íŠ¸ ci ì „ìš©ì„: [https://ci.jenkins.io/](https://ci.jenkins.io/)
    - ë‚´ í”„ë¡œì íŠ¸ì— ê°™ì€ ë°©ì‹ ì“°ê³  ì‹¶ìœ¼ë©´ Appì„ ë”°ë¡œ ë§Œë“¤ì–´ì•¼ í•¨ [[íŠœí† ë¦¬ì–¼](https://www.jenkins.io/blog/2020/04/16/github-app-authentication/)]
- *jenkins.qriositylog.com* ê³¼ ê°™ì€ ì„œë¸Œë„ë©”ì¸ì„ ì›í•œë‹¤ë©´ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •í•´ì•¼ í•¨
- **â€˜dockerëŠ” ì™œ ì“°ëŠ”ê±¸ê¹Œâ€™**ì— ëŒ€í•œ ê²°ë¡ 
    - jar ë§ê³  ë„ì»¤ ì´ë¯¸ì§€ë¡œ ë°°í¬í•˜ë©´ í¸í•¨
    - ì»¨í…Œì´ë„ˆ ë‹¨ìœ„ ë°±ì—…ì´ í¸í•¨
    - Opsì˜ í¸ì˜ì„± ë•Œë¬¸ì´ê³  ì—†ì–´ë„ ë¬¸ì œ ìƒê¸°ì§„ ì•ŠìŒ

### ğŸ“Œ ì¶”ê°€ë¡œ ìƒê°í•´ë³¸ ê²ƒ

- docker cië¥¼ ì‚¬ìš©í•˜ë©´ ì–˜ê°€ ë‹¤ ë¹Œë“œí• ê±´ë° ê·¸ë•Œ jenkinsëŠ” ë¬´ì—‡ì„ í•˜ëŠ”ê°€
    - ì•„ë§ˆ unit test...?
    - ì  í‚¨ìŠ¤ + docker ì‚¬ìš© ì‚¬ë¡€ ë” ì°¾ì•„ë³´ê³  ë¬´ë‚œí•œ ì¡°í•©ë²•ìœ¼ë¡œ ê²°ì •í•˜ê¸°

![architecture_0](https://user-images.githubusercontent.com/77003554/178111719-2345435e-d0df-4285-8f15-7cf3f9aaf543.png)

![architecture_1](https://user-images.githubusercontent.com/77003554/178111657-dd36c4ec-8c54-41dc-b100-fa746a7aa85b.png)

## ğŸ“… 22-03-27
### ğŸ“Œ JPA ì ìš© ë° CRUD í…ŒìŠ¤íŠ¸ ì—°ìŠµ

- **ê¸°ë¡:** [https://til.qriositylog.com/featured/backend/spring/ìŠ¤í”„ë§-ë¶€íŠ¸ì™€-AWSë¡œ-í˜¼ì-êµ¬í˜„í•˜ëŠ”-ì›¹-ì„œë¹„ìŠ¤/chapter-03#2-spring-data-jpa-ì ìš©í•˜ê¸°](https://til.qriositylog.com/featured/backend/spring/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8%EC%99%80-AWS%EB%A1%9C-%ED%98%BC%EC%9E%90-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4/chapter-03#2-spring-data-jpa-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0)

## ğŸ“… 22-03-30
### ğŸ“Œ ë“±ë¡/ìˆ˜ì •/ì¡°íšŒ API ì‘ì„± ì—°ìŠµ

- **ê¸°ë¡:** [https://til.qriositylog.com/featured/backend/spring/ìŠ¤í”„ë§-ë¶€íŠ¸ì™€-AWSë¡œ-í˜¼ì-êµ¬í˜„í•˜ëŠ”-ì›¹-ì„œë¹„ìŠ¤/chapter-03#4-ë“±ë¡ìˆ˜ì •ì¡°íšŒ-api-ë§Œë“¤ê¸°](https://til.qriositylog.com/featured/backend/spring/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8%EC%99%80-AWS%EB%A1%9C-%ED%98%BC%EC%9E%90-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4/chapter-03#4-%EB%93%B1%EB%A1%9D%EC%88%98%EC%A0%95%EC%A1%B0%ED%9A%8C-api-%EB%A7%8C%EB%93%A4%EA%B8%B0)

## ğŸ“… 22-04-02
### ğŸ“Œ ë“±ë¡/ìˆ˜ì •/ì¡°íšŒ API í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° push

- **ê¸°ë¡:** `ì‘ì„±ì˜ˆì •`

## ğŸ“… 22-04-03
### ğŸ“Œ ì  í‚¨ìŠ¤ GH App ìƒì„± ë° ì—°ê²°

- [ì•„ì£¼ ì¢‹ì€ ê¸€](https://fwani.tistory.com/23)
    - App credential configì—ì„œ owner ëª…ì‹œí•´ì£¼ì–´ì•¼ 500 internal error í’€ë¦¼
- pem ë³€í™˜ì€ WSLë¡œ í•¨: [ê²½ë¡œ ì°¾ê¸°](https://unix.stackexchange.com/questions/531576/how-do-i-access-my-windows-desktop-directory-from-inside-windows-subsystem-for-l)
- gradle test ëŒë¦¬ê¸°ì— ì¸ìŠ¤í„´ìŠ¤ê°€ ë„ˆë¬´ í˜‘ì†Œí•´ì„œ í•˜ë£¨ì¢…ì¼ ëŒì•„ê°...
    - ì„œë²„ ë§ˆë¹„ë¼ì„œ reboot í•˜ê³  `iptables` ë‹¤ì‹œ ì„¤ì •í•´ì¤Œ
- Appì„ ì¨ë„ WebHookìœ¼ë¡œ íŠ¸ë¦¬ê±° ì‹œí‚¤ëŠ”ê±´ ë˜‘ê°™ìŒ. Appì€ ê·¸ëƒ¥ Credential ìš©ë„ê°™ìŒ. WebHookìœ¼ë¡œ í•  ë•Œ commit statusëŠ” ì–´ë–»ê²Œ ëŒì•„ì˜¤ëŠ”ì§€ ë‚˜ì¤‘ì— í™•ì¸í•´ë³´ê¸°
    - [ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤ 1](https://applitools.com/blog/how-to-update-jenkins-build-status-in-github-pull-requests-step-by-step-tutorial/)
    - [ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤ 2](https://stackoverflow.com/questions/14274293/show-current-state-of-jenkins-build-on-github-repo)
- ì  í‚¨ìŠ¤ UIê°€ ë„ˆë¬´ êµ¬ë ¤ì„œ [Blue Ocean í”ŒëŸ¬ê·¸ì¸](https://logical-code.tistory.com/179)ì´ í•„ìˆ˜ì¸ë“¯,,
- **ë” ì¢‹ì€ ë¬´ë£Œ ì„œë²„ êµ¬í•  ì‹œê°„ ì—†ì–´ì„œ ì¼ë‹¨ GH Actionìœ¼ë¡œ í…ŒìŠ¤íŠ¸ CI êµ¬ì¶•í•¨.**

### ğŸ“Œ GH Action Test, Build & Deploy CI êµ¬ì¶•

- TestëŠ” ê°„ë‹¨íˆ í…œí”Œë¦¿ì—ì„œ êº¼ë‚´ë‹¤ ì”€
    - **í…ŒìŠ¤íŠ¸ CLI ë¡œê·¸ ì´ì˜ê²Œ ë³´ì—¬ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸:** `com.adarshr.test-logger`
- [x]  BuildëŠ” ì•„ì§ Dockerfile ì—†ì–´ì„œ ë„ì»¤ ë°°í¬ê¹Œì§„ ì•ˆë¨. ë‚˜ì¤‘ì— ì‘ì„±í•˜ê¸°
- `workflow_run` íŠ¸ë¦¬ê±°ê°€ default branch(main) ì—ì„œë§Œ ì‘ë™ëœë‹¤ëŠ” ì ì€ ê´œì°®ì€ë°, commit status ì•ˆë‚˜ì˜¤ëŠ”ê±´ ì¢€ ì¹˜ëª…ì ì´ë¼ WebHookìœ¼ë¡œ status ë³´ì—¬ì£¼ëŠ” workflowë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•¨.
    - [ì•„ì£¼ ì¢‹ì€ ê¸€](https://dev.to/doctolib/github-actions-how-to-push-a-github-status-in-addition-of-github-checks-3d27)
- GH Action ì»¤ìŠ¤í…€ ë±ƒì§€ ê°€ëŠ¥í•œê±° ì˜¤ëŠ˜ ì²˜ìŒ ì•ŒìŒ. urlì— workflow filenameì´ ì•„ë‹ˆë¼ workflow nameì´ ë“¤ì–´ê°€ëŠ”ê²Œ íŠ¹ì´í•¨.
    - [ì—¬ê¸°ì„œ ë°°ì›€](https://github.com/docker/build-push-action)
- ì²˜ìŒì— [ë„ì»¤í—ˆë¸Œì—ì„œ build ì‹œì¼œì„œ ì´ì˜ê²Œ commit statusê°€ Appìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ê±¸](https://github.com/docker/app) ì˜ë„í–ˆìœ¼ë‚˜, ìµœê·¼ ë„ì»¤í—ˆë¸Œ ë¹Œë“œ ê¸°ëŠ¥ì´ ìœ ë£Œí™”ë˜ì–´ì„œ ë¹ ë¥¸ ì†ì ˆ.
- [x]  branch ì „ëµ ì‹œê°„ë‚ ë•Œ ì •ë¦¬í•˜ê¸°
- [x]  ë°°í¬ ì „ëµ ê³ ë¯¼í•˜ê¸° ([í”„ë¡ íŠ¸, ë°± ë¶„ë¦¬ ê´€ë ¨](https://okky.kr/article/874573))

## ğŸ“… 22-04-05
### ğŸ“Œ Docker ë°°í¬ CI ì—ëŸ¬ í•´ê²°

- Dockerfile ì‘ì„±í–ˆë”ë‹ˆ ë‹¤ìŒì˜ ì—ëŸ¬ ë°œìƒ

```
Step 3/4 : COPY ${JAR_FILE} app.jar
When using COPY with more than one source file, the destination must be a directory and end with a /
```

- ë¡œê·¸ ì½ì–´ë³´ë©´ ì—¬ëŸ¬ê°œ jarì´ë¼ ë‹¨ì¼ jarì— copyê°€ ì•ˆë˜ë‹ˆ path í˜•ì‹ìœ¼ë¡œ argë¥¼ ë„˜ê¸°ë¼ëŠ” ê±´ë°, ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ë˜‘ê°™ì€ ëª…ë ¹ì–´ë¡œë„ ì˜ë§Œ ëŒë¦¬ë‹ˆê¹Œ ì˜ë¬¸.
    - í™•ì¸ ê²°ê³¼ ë‚´ê°€ `gradle build` ì‹œí‚¤ë©´ `build/libs`ê²½ë¡œì— plainì´ ë¶™ëŠ” jarì´ í•˜ë‚˜ ë” ìƒê²¼ìŒ
    - ì´ìœ  ì°¾ì•„ë³´ë‹ˆ ìŠ¤í”„ë§ë¶€íŠ¸ 2.5 ë¶€í„° plainë„ ìƒê¸°ë„ë¡ ë°”ë€Œì—ˆë‹¤ê³  í•¨. [[ì°¸ê³ ](https://dev-j.tistory.com/22)]
    - plain ì—†ì´ ê·¸ëƒ¥ executable jarë§Œ ë¹Œë“œí•˜ë ¤ë©´ `gradle bootJar` ì„ ì‚¬ìš©í•´ì•¼ í•¨
        - [buildì™€ bootJarì˜ ì°¨ì´?](https://stackoverflow.com/questions/64747475/difference-between-gradle-build-and-gradle-bootjar)
    - Dockerfileì€ ê·¸ëŒ€ë¡œ ë‘” ì±„ë¡œ ymlì— gradle ëª…ë ¹ì–´ë§Œ ë°”ê¿”ì£¼ê³  ì—ëŸ¬ í•´ê²°

### ğŸ“Œ Package Publish CI êµ¬ì¶•

- ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìœ„í•œ GH ë ˆì§€ìŠ¤íŠ¸ë¦¬ë„ ìˆë”ë¼.. Dockerfile `LABEL`ì— ë‚´ repo ë„£ê³  GH ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— pushí•˜ë©´ packageì— ëœ¬ëŒ€ì„œ release ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ” CI êµ¬ì¶•
    - [ì•„ì£¼ ì¹œì ˆí•œ ê¸€](https://blog.codecentric.de/en/2021/03/github-container-registry/)
    - [ëœ ì¹œì ˆí•˜ì§€ë§Œ í•œê¸€](https://blog.outsider.ne.kr/1530)
    - [GH ë ˆí¼ëŸ°ìŠ¤](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#release)

![reference](https://user-images.githubusercontent.com/77003554/178112382-afacdb34-6a1b-4dde-9cf0-d040a4a33535.png)

- GHì—ì„œ release í• ë•Œ íƒœê·¸ ì¶”ê°€í•˜ë©´ refê°€ `refs/heads/main`ì´ ì•„ë‹Œ ~~ ì´ë‹¤. [[ì •ë‹µì€ ì—¬ê¸°ì—](https://stackoverflow.com/questions/58475748/github-actions-how-to-check-if-current-push-has-new-tag-is-new-release)]

### ğŸ“Œ `1.0.0-beta.1` ë¦´ë¦¬ì¦ˆ ğŸ‘

- GHì—ì„œ prerelease ë§ê³  ê·¸ëƒ¥ releaseë¡œ ì‘ì„±í•´ì•¼ ì œëª©ì´ ëœ¸

### ğŸ“Œ Branch ì „ëµ

- **main:** í‘¸ì‹œë˜ë©´ ë„ì»¤ë¡œ ìë™ ë°°í¬ë¨. ë‚˜ì¤‘ì— EC2 SSHê¹Œì§€ ì—°ê²°í• ê±°ë‹ˆ ì£¼ì˜..
    - docs ìˆ˜ì •ì€ ëŒ€ì²´ ì–´ë””ì„œ í• ì§€ ëª¨ë¥´ê² ìŒ.
- **develop:** ê° ë¦´ë¦¬ì¦ˆ ë³„ë¡œ feature merge í•œ ë’¤ ë²„ì „ ìˆ˜ì •ê°™ì€ê±° í•´ë†“ëŠ” ë¸Œëœì¹˜
    - CI ìˆ˜ì •ì€ ê°€ê¸‰ì  developì—ì„œ í•˜ê¸°
- **feature:** í•„ìš”í• ë•Œë§ˆë‹¤ developì—ì„œ ë¶„ê¸°í•˜ê³  mergeë˜ë©´ ììœ ë¡­ê²Œ ì‚­ì œ ê°€ëŠ¥í•œ ë¸Œëœì¹˜
- release ë¸Œëœì¹˜ëŠ” ê°œì¸ í”„ë¡œì íŠ¸ ìš´ì˜í•˜ëŠ”ë° ë„ˆë¬´ ê³¼í•˜ë‹¤ ì‹¶ì–´ì„œ ì•ˆ ì”€.

### ğŸ“Œ Frontend, Backend repo ë¶„ë¦¬

- í•©ì¹˜ë©´ ë‹¤ë£¨ê¸°ë„ ë¶ˆí¸í•˜ê³  í´ë” êµ¬ì¡°ë„ ë§ˆìŒì— ì•ˆë“¤ ê²ƒ ê°™ì•„ì„œ ê²°êµ­ ë¶„ë¦¬í•˜ê¸°ë¡œ ê²°ì •
- ì—¬íƒœê¹Œì§€ ì‘ì—…í•œ repoëŠ” `Algorio`ì—ì„œ `Algorio-Backend`ë¡œ ë¦¬í¬ëª… ìˆ˜ì •
- FrontendëŠ” AWSë§ê³  Vercel ê°™ì€ê±° ì“°ë©´ ì¢‹ì„ë“¯. commit statusë„ ì´ì˜ê²Œ ì¨ì¤Œ.
