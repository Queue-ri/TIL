---
title: '25-03-06'
eng_title: '25-03-06'
image: https://til.qriositylog.com/img/m_banner_background.jpg
sidebar_position: 11
sidebar_label: '25-03-06'
created_date: 2025-03-06
---

### ğŸ“Œ Daily Report
> [https://github.com/ssginc-be/DOKI/issues/38](https://github.com/ssginc-be/DOKI/issues/38)

<br/>

### ğŸ“Œ í”„ë¡œì íŠ¸ ìƒí™©

ìš´ì˜ì -> ì´ìš©ì ì¸¡ì˜ SSE í† ìŠ¤íŠ¸ UIê°€ ì–¼ì¶” ëë‚¬ë‹¤.

<img src="https://github.com/user-attachments/assets/d3464ff6-f78f-4f23-9acd-8021f1ee135d" alt="noti_toast_ui" width="600px" height="auto" />

<br /><br />

ê·¸ëŸ°ë° ë¬¸ì œê°€ ìƒê²¼ë‹¤.

ìƒê¸´ê²Œ ì˜ ë§ˆìŒì— ë“¤ì§€ ì•ŠëŠ”ë‹¤ ğŸ¤¨

ì• ë‹ˆë©”ì´ì…˜ì€ ë§›ìˆì§€ë§Œ ë„ë©”ì¸ ìƒê°í•˜ë©´ ë„ˆë¬´ í†µí†µ íŠ€ëŠ”ê²ƒ ê°™ìŒ.


<br />

### ğŸ“Œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ìˆœì„œ ê³ ë ¤í•˜ê¸°

```java title=StoreController.java
// ë¹„íšŒì›ì´ê±°ë‚˜ ë¡œê·¸ì¸í•œ ì´ìš©ì (null ì²´í¬ê°€ ë§¨ ìœ„ì— ìˆì–´ì•¼ í•¨)
if (role == null || role.equals("MEMBER")) {
    ...
    model.addAttribute("memberCode", code);

    return "index"; // íŒì—…ìŠ¤í† ì–´ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
}
```

![thymeleaf_diff](https://github.com/user-attachments/assets/485012fd-582b-4da3-b10a-aa324e2e25ac)

index.htmlì€ layout-member.htmlì„ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°,

layout-member.jsì—ì„œ ì ‘ê·¼í•˜ëŠ” `memberCode`ê°€ undefined<span style={{fontSize: '4px'}}><s><i>ìš´ë°í”¼ë„¤</i></s></span>ë¡œ ì°íˆì§€ ì•Šìœ¼ë ¤ë©´, í›„ìì™€ ê°™ì´ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ìˆœì„œë¥¼ ì¡°ì •í•´ì•¼ í•œë‹¤.

<br />

### ğŸ“Œ ì˜ì™¸ë¡œ ê·¼ë³¸ ìˆëŠ” `replaceChild`

ë†€ëê²Œë„ [ë ˆí¼ëŸ°ìŠ¤](https://stackoverflow.com/questions/21627276/replacing-nodes-error-the-node-to-be-replaced-is-not-a-child-of-this-node)ì— ì˜ê±°í•˜ë©´, `replaceChild`ëŠ” `(dest, src)` í˜•ì‹ì˜ ê·¼ë³¸ì„ ë”°ë¥´ê³  ìˆì—ˆë‹¤.

ë‹¤ì‹œ ë§í•´ newNodeê°€ 2ë²ˆì§¸ ì¸ìë¡œ ë“¤ì–´ê°„ë‹¤ëŠ” ëœ»ì´ë‹¤.

```js {19-21}
// í† ìŠ¤íŠ¸ ë·° ì»¨íŠ¸ë¡¤
function showAlarmToast(message, dateTime) {
    // parent div (toast box)
    const notiToastBoxDiv = document.getElementById('noti-toast-box');

    // old div
    const notiToastDataDiv = document.getElementById('noti-toast-data');
    const notiToastDatetimeDiv = document.getElementById('noti-toast-datetime');

    // new div
    const newDataDiv = document.createElement("div");
    newDataDiv.classList.add('noti-toast-data');
    newDataDiv.appendChild(document.createTextNode(message));

    const newDatetimeDiv = document.createElement("div");
    newDatetimeDiv.classList.add('noti-toast-datetime');
    newDatetimeDiv.appendChild(document.createTextNode(dateTime));

    // div êµì²´
    notiToastBoxDiv.replaceChild(notiToastDataDiv, newDataDiv); // error
    notiToastBoxDiv.replaceChild(notiToastDatetimeDiv, newDatetimeDiv); // error

    // í† ìŠ¤íŠ¸ ë°•ìŠ¤ ë³´ì—¬ì£¼ê¸°
    notiToastBoxDiv.classList.add("active");

    // 5ì´ˆ í›„ í† ìŠ¤íŠ¸ ë°•ìŠ¤ ìˆ¨ê¸°ê¸°
    setTimeout(() =>{
        notiToastBoxDiv.classList.remove("active");
    }, 5000)
}
```

![client_console](https://github.com/user-attachments/assets/b2dc563a-84de-49b2-9d6c-251fd934f7ca)

<br />

ê·¼ë° ê²°êµ­ì—” `replaceWith`ë¼ëŠ” ë” ëª¨ë˜í•œ ë°©ì‹ì´ ìˆì–´ì„œ ì´ë¥¼ ì±„íƒí–ˆë‹¤.

ê·¸ë¦¬ê³  ìƒˆ ë…¸ë“œì— id ì§€ì •í•˜ëŠ”ê±° ê¹Œë¨¹ì–´ì„œ (-> ìµœì´ˆ replace ì´í›„ `getElementById` í˜¸ì¶œì‹œ í„°ì§)

í•´ë‹¹ ì½”ë“œë„ ì¶”ê°€í–ˆë‹¤.

```js {22-24}
// í† ìŠ¤íŠ¸ ë·° ì»¨íŠ¸ë¡¤
function showAlarmToast(message, dateTime) {
    console.log('show toast'); // logging
    // parent div (toast box)
    const notiToastBoxDiv = document.getElementById('noti-toast-box');

    // old div
    const notiToastDataDiv = document.getElementById('noti-toast-data');
    const notiToastDatetimeDiv = document.getElementById('noti-toast-datetime');

    // new div
    const newDataDiv = document.createElement("div");
    newDataDiv.classList.add('noti-toast-data');
    newDataDiv.id = 'noti-toast-data';
    newDataDiv.appendChild(document.createTextNode(message));

    const newDatetimeDiv = document.createElement("div");
    newDatetimeDiv.classList.add('noti-toast-datetime');
    newDatetimeDiv.id = 'noti-toast-datetime';
    newDatetimeDiv.appendChild(document.createTextNode(dateTime));

    // div êµì²´
    notiToastDataDiv.replaceWith(newDataDiv);
    notiToastDatetimeDiv.replaceWith(newDatetimeDiv);

    // í† ìŠ¤íŠ¸ ë°•ìŠ¤ ë³´ì—¬ì£¼ê¸°
    notiToastBoxDiv.classList.add("active");

    // 5ì´ˆ í›„ í† ìŠ¤íŠ¸ ë°•ìŠ¤ ìˆ¨ê¸°ê¸°
    setTimeout(() =>{
        console.log('hide toast'); // logging
        notiToastBoxDiv.classList.remove("active");
    }, 5000)
}
```

![client_console](https://github.com/user-attachments/assets/b23e5149-9841-4d62-ae3d-d3dfaa47dc79)

<br />

### ğŸ“Œ íƒ€ì„ë¦¬í”„ ë™ì  class ì¶”ê°€

[í•´ë‹¹ ë°©ë²•](https://stackoverflow.com/questions/61877514/how-to-add-dynamically-a-class-with-thymeleaf)ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤.

<br />

### ğŸ“Œ ëˆˆë¬¼ë‚˜ëŠ” `th` border-radius ì ìš©í•˜ê¸°

tableì— ì§€ì •í•œ `border-collapse: collapse;` ì†ì„±ê³¼ radius ì†ì„±ì´ ì¶©ëŒí•œë‹¤ë”ë¼.

box-shadowì™€ ì„ íƒì ë…¸ê°€ë‹¤ë¡œ ê²¨ìš° í•´ê²°í–ˆëŠ”ë°

ê²¨ìš° í•´ê²°í•œê²Œ ìŠ¤íƒ€ì¼ë§ì´ì–´ì„œ í˜„íƒ€ê°€ ì™”ë‹¤. CSS í‘œì¤€ì´ ë§ì´ ë°œì „í•˜ê¸¸ ë°”ëŒ...

```css {3-5} title="âŒ ì‘ ì•ˆë¨¹íˆëŠ” ì½”ë“œ"
table {
    width: 100%;
    border-collapse: collapse;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
    margin-bottom: 48px;
}
```

```css title="âœ”ï¸ ë¨¹íˆëŠ” ì½”ë“œ"
th {
    font-family: "Pretendard", sans-serif;
    color: #6C6C71;
    background-color: #FCFCFC;
    font-weight: 600;
    font-size: 13px;
    padding: 13px 16px;
    text-align: left;
}
th:first-child {
    border-top-left-radius: 6px;
    box-shadow: 0 0 0 1px #E2E2E9;
}
th:last-child {
    border-top-right-radius: 6px;
    box-shadow: 0 0 0 1px #E2E2E9;
}
th:not(:last-child) {
    border-right: 1px solid #E2E2E9;
}
th:not(:first-child):not(:last-child) {
    box-shadow: 0 -1px 0 #E2E2E9, 0 1px 0 #E2E2E9;
}
```

![table_result](https://github.com/user-attachments/assets/77aed1bc-54ab-46ea-be6d-bb04da0255cf)

<img src="https://github.com/user-attachments/assets/cb45934f-6db3-46ae-aa69-9949817979f0" alt="í™•ëŒ€ìƒ·" width="400px" height="auto" />