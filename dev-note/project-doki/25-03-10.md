---
title: '25-03-10'
eng_title: '25-03-10'
image: https://til.qriositylog.com/img/m_banner_background.jpg
sidebar_position: 14
sidebar_label: '25-03-10'
created_date: 2025-03-10
---

### ğŸ“Œ Daily Report
> [https://github.com/ssginc-be/DOKI/issues/00](https://github.com/ssginc-be/DOKI/issues/00)

<br/>

### ğŸ“Œ í”„ë¡œì íŠ¸ ìƒí™©



<br />

### ğŸ“Œ `@Value`ì™€ Constructor ì£¼ì…

CoolSMSë¡œ ë¬¸ì ë°œì†¡ ê¸°ëŠ¥ êµ¬í˜„í•˜ë‹¤ê°€ ë‹¤ì‹œ í•œë²ˆ ìƒê¸°í•˜ê²Œ ëœ ë¶€ë¶„ì¸ë°,

ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ì ì£¼ì…ì„ í•˜ë©´ `@Value`ë¡œ ì£¼ì…í•˜ë ¤ëŠ” ê°’ë“¤ì€ ìƒì„±ì ì£¼ì… ì‹œì ì— nullì´ë‹¤.

ê·¸ ì´ìœ ëŠ”, [ì´ ë ˆí¼ëŸ°ìŠ¤](https://stackoverflow.com/a/54039809)ì—ì„œ ë‹µì„ ì°¾ì„ ìˆ˜ ìˆë‹¤.

> Spring won't inject the properties' values until the object is fully instantiated.

ì •ë¦¬í•˜ë©´, ìƒì„±ì í˜¸ì¶œ -> ì¸ìŠ¤í„´ìŠ¤í™” -> property ê°’ ì£¼ì… ìˆœìœ¼ë¡œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.

```java title=SmsUtil.java
@Component
public class SmsUtil {

    @Value("${coolsms.apiKey}")
    private String SMS_API_KEY;

    @Value("${coolsms.secret}")
    private String SMS_SECRET;

    @Value("${coolsms.sender}")
    private String SMS_SENDER; // ë°œì‹  ë²ˆí˜¸

    @Value("${coolsms.enable}")
    private boolean SMS_ENABLED; // falseë©´ ë¡œê·¸ë§Œ ì°íˆê³  ì‹¤ì œ ë¬¸ì ì „ì†¡ì€ ìŠ¤í‚µë¨

    // ...

    // CoolSMS API ì„¤ì •
    private final DefaultMessageService messageService;
    
    public SmsUtil() {
        this.messageService = NurigoApp.INSTANCE.initialize(SMS_API_KEY, SMS_SECRET, "https://api.coolsms.co.kr");
    }
    // ...
}
```

ë”°ë¼ì„œ ìƒë‹¨ì˜ ì½”ë“œì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë§ê²Œ ëœë‹¤.

```log
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.ssginc.commonservice.util.SmsUtil]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	... 50 common frames omitted
Caused by: java.lang.NullPointerException: Parameter specified as non-null is null: method net.nurigo.sdk.NurigoApp.initialize, parameter apiKey
```

ê·¸ëŸ¬ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ìë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤.

```java title=SmsUtil.java
@Autowired
public SmsUtil(@Value("${coolsms.apiKey}") String SMS_API_KEY, @Value("${coolsms.secret}") String SMS_SECRET) {
    this.messageService = NurigoApp.INSTANCE.initialize(SMS_API_KEY, SMS_SECRET, "https://api.coolsms.co.kr");
}
```

<br />

### ğŸ“Œ ë¬¸ì ë°œì†¡ ê¸°ëŠ¥ êµ¬í˜„ì‹œ ì£¼ì˜ì‚¬í•­

ë²ˆí˜¸ë„ìš© ë¬¸ìì°¨ë‹¨ì„œë¹„ìŠ¤ì— ê°€ì…ë˜ì–´ ìˆì„ ìˆ˜ ìˆìŒ.........

í•´ì§€ ì‹ ì²­ ë„£ì–´ë„ ë°˜ì˜ê¹Œì§€ ìµœì†Œ 1~2ì¼ ê±¸ë¦°ë‹¤ê³  í•˜ë‹ˆ ì§ì „ì— ê¸‰í•˜ê²Œ êµ¬í˜„í•˜ì§€ ë§ ê²ƒ.

![ã…‡ã„´](https://github.com/user-attachments/assets/66130ee8-bdbe-4546-8330-b4460ac7772d)

<br />

### ğŸ“Œ ì¸ì¦ ì„±ê³µí•˜ë©´, ê·¸ ë‹¤ìŒì€?

ë³´ì•ˆì ì¸ ì¸¡ë©´ì„ ìƒê°í•´ë³´ë©´, ì‚¬ìš©ìê°€ ì´ë©”ì¼ ì¸ì¦ ë²ˆí˜¸ ì¸ì¦ê¹Œì§€ ë§ˆì³¤ëŠ”ë°

ê·¸ ìƒíƒœì—ì„œ í˜ì´ë¡œë“œë¥¼ ì¡°ì‘í•´ì„œ íšŒì›ê°€ì… REST ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ë„ ìˆë‹¤.

ë¬´ìŠ¨ ì†Œë¦¬ëƒë©´, ì´ë©”ì¼ ì¸ì¦ ì„±ê³µ -> íœ´ëŒ€í° ì¸ì¦ ì„±ê³µ -> ê°€ì… ë²„íŠ¼ í™œì„±í™”ë¨ -> ê°€ì… í˜ì´ë¡œë“œ ì¡°ì‘í•˜ì—¬ API request

ì´ëŸ´ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

ê·¸ë˜ì„œ ì§„ì§œ ê²¬ê³ í•œ ì‹œìŠ¤í…œì„ êµ¬ìƒí•´ë³¸ë‹¤ë©´,

íšŒì›ê°€ì… í˜ì´ì§€ ì§„ì… -> ê³ ìœ  ì½”ë“œì˜ JWT ë°œê¸‰í•´ì„œ Set-Cookie (30ë¶„ í›„ ë§Œë£Œ)<br />
ì´ë©”ì¼ ì¸ì¦ ì„±ê³µ -> JWTì— í•´ë‹¹ ì´ë©”ì¼ ê¸°ë¡í•´ì„œ Set-Cookie<br />
íœ´ëŒ€í° ë²ˆí˜¸ ì¸ì¦ ì„±ê³µ -> JWTì— í•´ë‹¹ íœ´ëŒ€í° ë²ˆí˜¸ ê¸°ë¡í•´ì„œ Set-Cookie

ì´ëŸ° ì‹ìœ¼ë¡œ ê°€ì•¼ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì˜ ë³€ì¡° ìœ„í—˜ì„±ì„ ì›ì²œ ì°¨ë‹¨í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.