---
title: 'GDSC í† ì´í”„ë¡œì íŠ¸ ê°œë°œ ë…¸íŠ¸'
eng_title: 'GDSC toy project dev note'
image: https://til.qriosity.io/img/gdsc_banner.png
created_date: 2022-12-26
updated_date: 2023-01-09
---

## ğŸ“… 22-12-26

### ğŸ“Œ ë¡œê·¸ì¸ API êµ¬í˜„
- ì–´ì°¨í”¼ 2ì£¼ì°¨ì— JWT ë¶™ì´ë©´ì„œ ë˜ ìˆ˜ì • ë“¤ì–´ê°ˆí…Œë‹ˆ DB ì ‘ê·¼ë§Œ ìš°ì„  êµ¬í˜„í•˜ê¸°ë¡œ í–ˆë‹¤.
- ChatGPTì—ê²Œ ì½”ë“œë¥¼ ë‚´ë†“ìœ¼ë¼ê³  í˜‘ë°•í–ˆë‹¤.
    - âœ… í•´ë‹¹ ì½”ë“œë¥¼ ì½ì–´ë³´ë©´ ëŒ€ê°• ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ëŠ”êµ¬ë‚˜, í•˜ê³  ê°ì´ ë¹¨ë¦¬ ì¡íŒë‹¤.
    - âš ï¸ **ë§¤ë²ˆ ì´ëŸ¬ë©´ ì•ˆë˜ê³ ** ìƒì‚°ì„±ì´ ìš°ì„ ì¼ ë•Œ ì¶”ì²œí•œë‹¤.

![ChatGPT result](https://user-images.githubusercontent.com/77003554/211281233-603d27c3-ea51-43a0-8b1f-9cc6201026e7.png)

### ğŸ“Œ í”„ë¦¬ì¦ˆë§ˆ ì—°ê²°

- `sequelize` ì“°ë ¤ë‹¤ê°€ `prisma`ë¥¼ ì¶”ì²œë°›ìŒ -> ë§¤ìš° ê°„ê²°í•´ì§„ ì½”ë“œ
- `mysql`ë¡œ ORM ì—†ëŠ” ìŒ© ì¿¼ë¦¬ë„ ì—°ìŠµ ì°¨ ì‘ì„±í•´ë³´ì•˜ë‹¤.

<details><summary>ê°€ë…ì„± ëë‚´ì£¼ëŠ” ìŒ©ì¿¼ë¦¬ ë³´ê¸°</summary>

```javascript
connection.query(
    'INSERT INTO Users (nickname, name, studentId, department, status) values (?, ?, ?, ?, ?);',
    [nickname, name, studentId, department, status],
    (error, results) => {
        if (error) {
            console.error(error);
            res.status(500).send({error: 'An error occurred while saving..'});
        } else {
            // Query the database for the name
            const query = 'SELECT nickname, name FROM users WHERE name = ?';
            connection.query(query, [name], (error, results) => {
                if (error) {
                console.error(error);
                res.sendStatus(500);
                } else {
                res.send(results);
                }
            });
        }
    }
);
```
</details>

## ğŸ“… 23-01-01
### ğŸ“Œ Cloud Functions ë°°í¬

- ì¼ë°˜ì ìœ¼ë¡œ FunctionsëŠ” í•œ ê°œ ë‹¹ í•˜ë‚˜ì˜ ë¡œì§ì„ ì˜ë„í–ˆë‹¤ê³  í•œë‹¤.
    - í•˜ì§€ë§Œ ë‚œ í•˜ë‚˜ì˜ Functionsì— ì „ì²´ APIë¥¼ ì—°ê²°í–ˆë‹¤.
- CJSì—ì„œ ESMìœ¼ë¡œ ë³€ê²½, ëª¨ë“ˆ ë¶„ë¦¬í•˜ì—¬ ë°°í¬
    - ESMìœ¼ë¡œ ê°ˆì•„íƒ„ ì´ìœ ëŠ” ë¦¬ì•¡íŠ¸ ë¶€ì‘ìš©ì´ë‹¤.
    - ì›ë˜ FunctionsëŠ” CJSë§Œ ì§€ì›í–ˆëŠ”ë° ìˆ˜ìš”ê°€ ë§ì•„ 21ë…„ë„ë¶€í„° ESMë„ ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤. [[ì°¸ê³ ]](https://medium.com/google-cloud/es-modules-in-cloud-functions-f5be1676c8b5)
- prisma ë•Œë¬¸ì— ì»¤ìŠ¤í…€ ë¹Œë“œ ì»¤ë§¨ë“œë¥¼ ë„£ì–´ì•¼ í–ˆë‹¤. [ì´ê±¸](https://cloud.google.com/functions/docs/writing/specifying-dependencies-nodejs#executing_custom_build_steps_during_deployment) ì°¸ê³ í–ˆë‹¤.

### ğŸ“Œ í˜¸ì¶œ í…ŒëŸ¬? ë””ë„ìŠ¤?

Functionsë¥¼ ë³´ë©° ë“¤ì—ˆë˜ ì˜ë¬¸ì´ë‹¤. ëˆ„êµ°ê°€ ì•…ì˜ì ìœ¼ë¡œ ì´ í•¨ìˆ˜ë¥¼ ì—„ì²­ ë§ì´ í˜¸ì¶œí•œë‹¤ë©´? <br/>
ë¬¼ë¡  ê³µê²©ìì—ê²Œ ê¸ˆì „ì  ì´ë“ì´ ì—†ìœ¼ë‹ˆ ì„¸ìƒì— ì–´ë–¤ ê´€ì¢…ì´ ê·¸ëŸ¬ê² ë‚˜ ì‹¶ê² ì§€ë§Œ, *[ì„¸ìƒì€ ë„“ê³  ê´€ì¢…ì€ ë§ë‹¤.]("https://imgur.com/a/7DPw1M1")*

![image](https://user-images.githubusercontent.com/77003554/211312722-5462db7a-88ac-49b2-bf28-448bd2d75c5b.png)

[ì¸í„°ë·°]("https://www.inflearn.com/pages/weekly-inflearn-45-20220330")ì— ë”°ë¥´ë©´ rate limit ë°–ì— ë³„ë‹¤ë¥¸ ë¾°ì¡±í•œ ìˆ˜ê°€ ì—†ëŠ” ë“¯ ì‹¶ë‹¤.

í•´ë‹¹ ì‚¬ê±´ì€ Azureì—ì„œ ì²˜ë¦¬í•´ì¤¬ë‹¤ ë“¤ì—ˆê³ , AWSì˜ ì„ ë¡€ ë•ë¶„ì¸ì§€ ì „ë°˜ì ìœ¼ë¡œ í´ë¼ìš°ë“œ ì—…ê³„ì—ì„œ ë¹„ì •ìƒ íŠ¸ë˜í”½ì€ ë´ì£¼ëŠ” ê´€í–‰ì´ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ì• ì´ˆì— ë¬¸ì œê°€ ì•ˆí„°ì§€ëŠ” ê²ƒì´ ì¢‹ì§€ ì•Šì„ê¹Œ?

rate limitì„ ê±¸ì–´ë„ í˜¸ì¶œ ìì²´ê°€ ê³§ ê³¼ê¸ˆì´ë‹ˆ, ê³¼ì—° ì„œë²„ë¦¬ìŠ¤ê°€ ì›¹ ë°±ì—”ë“œë¡œì¨ì˜ ì¢‹ì€ 'ìƒí’ˆ'ì¸ì§€ëŠ” ì¢€ ì˜êµ¬ì‹¬ì´ ë“ ë‹¤. (ê¸°ìˆ  ìì²´ëŠ” í¥ë¯¸ë¡­ê³  ì¢‹ë‹¤.)


## ğŸ“… 23-01-06
### ğŸ“Œ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„

- GCP Cloud storage ì—°ê²° ë° ì—…ë¡œë“œ
    - ì•„ë˜ ë‘ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì ë‹¹íˆ ì§¬ë½•í•´ì„œ êµ¬í˜„ ~~[[ê·¸ë¦¬ê³  ì•„ë¬´ë„ ì•ˆì ì–´ë†“ì€ key ì„¤ëª…]](https://github.com/googleapis/google-auth-library-nodejs/issues/137)~~

---
['Cloud Storage ì‚¬ìš©' GCP ë¬¸ì„œ](https://cloud.google.com/appengine/docs/standard/nodejs/using-cloud-storage?hl=ko)ì™€ [ê·¸ ë¬¸ì„œë¥¼ 93.5% ë”°ë¼í•œ ê¸€](https://r4bb1t.tistory.com/29)

---

- BEì—ì„œ FEë¡œë¶€í„° ë‚ ë¼ì˜¨ ì´ë¯¸ì§€ íŒŒì¼ ë°›ê¸°
    - `multer`ë¡œ multipart ë°›ì•„ì„œ ì²˜ë¦¬


- Postmanì—ì„œ multipartë¥¼ ì˜ëŠ” ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
    - ê·¸ëŸ°ë° jsonì„ textê°€ ì•„ë‹Œ í˜•íƒœë¡œ ë³´ë‚¼ ìˆ˜ ìˆì„ì§€ ì•Œì•„ë³´ì•„ì•¼ í•œë‹¤.
    - ì € ì©œì©œì©œì„ ëˆ„ë¥´ë©´ Content Typeì´ ìˆë˜ë° ì´ê±¸ `application/json`ìœ¼ë¡œ ì„¤ì •í•˜ë©´..? (ë‚´ì‹¬ ê¸°ëŒ€ì¤‘)

![postman capture](https://user-images.githubusercontent.com/77003554/211240945-9daa006c-be8c-4e4b-98df-59d189271a60.png)

- BE ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì—ì„œ `Authorization` í—¤ë”ë¥¼ ëª»ì¡ê¸¸ë˜ ë¡œê·¸ ì°ì—ˆë”ë‹ˆ `authorization`ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.
    - ë²”ì¸ì€ expressì˜€ë‹¤.
    - RFCì— ì˜ê±°í•˜ë©´ HTTP í—¤ë” í•„ë“œëŠ” case insensitiveë¼ ì—¬ê¸°ê¹Œì§„ ok..ì´ë‹¤.
    - ê·¸ëŸ°ë° expressì—ì„œ ì œê³µí•˜ëŠ” ë©”ì†Œë“œì˜ ë„¤ì´ë°ì— ë‚šì˜€ë‹¤. í•˜ë‹¨ ì°¸ê³ .
    

### ğŸ“Œ headerì™€ headersì˜ ì°¨ì´

[ì´ ë‹µë³€](https://stackoverflow.com/questions/60855411/req-header-vs-req-headers-in-express)ì— ë”°ë¥´ë©´, ë‹¤ìŒê³¼ ê°™ë‹¤ê³  í•œë‹¤.
- `req.header`(=`req.get`): case-insensitiveí•œ ì„œì¹˜
- `req.headers`: case-sensitive, JS ê°ì²´ì˜ í”„ë¡œí¼í‹° ì„œì¹˜

ë‹¤ì‹œë§í•´
```javascript
req.header['aUtHoRiZaTiOn'] // ok
req.header['Authorization'] // ok
req.header['authorization'] // ok

req.headers['authorization'] // ok
req.headers['Authorization'] // ERROR
```
ì´ë ‡ë‹¤ëŠ” ê²ƒì´ë‹¤.

ê·¸ëŸ°ë° `headers`ì˜ sê°€ ë” ê´‘ë²”ìœ„í•œ ì„œì¹˜ë¥¼ ì˜ë¯¸í•˜ëŠ” ì¤„ ì•Œê³  ë°”ê¿”ì“´ ê²ƒì´ ì›ì¸ì´ì—ˆë‹¤. expressê°€ ëª¨ë“ ê±¸ lowercaseë¡œ ëˆŒëŸ¬ë²„ë¦¬ëŠ”ë° ëŒ€ë¬¸ì ë“¤ì€ ê²ƒì„ ì°¾ìœ¼ë¼ í–ˆìœ¼ë‹ˆğŸ˜‘

